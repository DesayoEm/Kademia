2025-03-18 00:20:27,182 - kademia - INFO - Application started
2025-03-18 00:20:40,704 - kademia - INFO - Request started | 2a8022b8-bd46-494e-a006-bf22f4b848d0 | GET /
2025-03-18 00:20:40,705 - kademia - INFO - Request completed | 2a8022b8-bd46-494e-a006-bf22f4b848d0 | Status: 200 | Time: 0.001s
2025-03-18 00:20:40,922 - kademia - INFO - Request started | 4510bfc5-543a-42ff-b80d-4b5a6e17624b | GET /favicon.ico
2025-03-18 00:20:40,924 - kademia - INFO - Request completed | 4510bfc5-543a-42ff-b80d-4b5a6e17624b | Status: 404 | Time: 0.001s
2025-03-18 00:20:44,325 - kademia - INFO - Request started | 9bf5ef33-047d-43b4-858d-3ff6bb91e2fb | GET /docs
2025-03-18 00:20:44,326 - kademia - INFO - Request completed | 9bf5ef33-047d-43b4-858d-3ff6bb91e2fb | Status: 200 | Time: 0.000s
2025-03-18 00:20:44,794 - kademia - INFO - Request started | 64c249a1-5507-4c98-9270-362ba9c2ad6b | GET /openapi.json
2025-03-18 00:20:44,885 - kademia - INFO - Request completed | 64c249a1-5507-4c98-9270-362ba9c2ad6b | Status: 200 | Time: 0.091s
2025-03-18 00:36:57,547 - kademia - INFO - Application started
2025-03-18 00:37:00,136 - kademia - INFO - Request started | 808d0b3f-0c57-4867-a3a7-71b5911133cf | GET /
2025-03-18 00:37:00,146 - kademia - INFO - Request completed | 808d0b3f-0c57-4867-a3a7-71b5911133cf | Status: 200 | Time: 0.004s
2025-03-18 00:37:00,372 - kademia - INFO - Request started | 34896c57-f4af-4a9e-8ad0-0960597b8351 | GET /favicon.ico
2025-03-18 00:37:00,376 - kademia - INFO - Request completed | 34896c57-f4af-4a9e-8ad0-0960597b8351 | Status: 404 | Time: 0.001s
2025-03-18 00:37:38,338 - kademia - INFO - Request started | c2bea2ad-4335-4413-8914-9d5832828166 | GET /
2025-03-18 00:37:38,340 - kademia - INFO - Request completed | c2bea2ad-4335-4413-8914-9d5832828166 | Status: 200 | Time: 0.001s
2025-03-18 00:37:45,326 - kademia - INFO - Request started | 99b12c10-1567-4b90-bd99-72441a0d1379 | GET /docs
2025-03-18 00:37:45,327 - kademia - INFO - Request completed | 99b12c10-1567-4b90-bd99-72441a0d1379 | Status: 200 | Time: 0.001s
2025-03-18 00:37:45,617 - kademia - INFO - Request started | 573008fd-293d-4339-a230-8b3fad2d93cb | GET /openapi.json
2025-03-18 00:37:45,712 - kademia - INFO - Request completed | 573008fd-293d-4339-a230-8b3fad2d93cb | Status: 200 | Time: 0.095s
2025-03-18 00:39:14,486 - kademia - INFO - Request started | d9c9f9fc-93c4-489b-946d-cd10d205d5f6 | POST /api/v1/staff/departments/
2025-03-18 00:39:14,806 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 00:39:14,806 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:39:14,810 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 00:39:14,810 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:39:14,812 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 00:39:14,813 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:39:14,814 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:39:14,819 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(manager_id)s::UUID, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff_departments.created_at, staff_departments.last_modified_at
2025-03-18 00:39:14,819 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] {'id': UUID('589f17c4-3caa-4598-9a6d-e093f575ba28'), 'name': 'Academic Affairs', 'description': 'Manages Academic Programs And Curriculum', 'manager_id': UUID('00000000-0000-0000-0000-000000000000'), 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 00:39:14,824 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 00:39:14,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:39:14,830 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id, staff_departments.name, staff_departments.description, staff_departments.manager_id, staff_departments.created_by, staff_departments.last_modified_by, staff_departments.created_at, staff_departments.last_modified_at, staff_departments.is_archived, staff_departments.archived_at, staff_departments.archive_reason, staff_departments.archived_by 
FROM staff_departments 
WHERE staff_departments.id = %(pk_1)s::UUID
2025-03-18 00:39:14,832 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] {'pk_1': UUID('589f17c4-3caa-4598-9a6d-e093f575ba28')}
2025-03-18 00:39:14,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 00:39:14,842 - kademia - INFO - Request completed | d9c9f9fc-93c4-489b-946d-cd10d205d5f6 | Status: 201 | Time: 0.355s
2025-03-18 00:40:54,756 - kademia - INFO - Request started | 39db24c0-f9df-463b-8897-d8b8342dd613 | POST /api/v1/staff/
2025-03-18 00:40:55,068 - kademia - ERROR - Unhandled exception | 39db24c0-f9df-463b-8897-d8b8342dd613 | 'StaffCreate' object has no attribute 'access_level'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 41, in create_staff
    access_level = staff_data.access_level,
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'StaffCreate' object has no attribute 'access_level'
2025-03-18 00:40:55,094 - kademia - ERROR - Unhandled exception | 39db24c0-f9df-463b-8897-d8b8342dd613 | 'StaffCreate' object has no attribute 'access_level'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 41, in create_staff
    access_level = staff_data.access_level,
                   ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'StaffCreate' object has no attribute 'access_level'
2025-03-18 00:42:18,805 - kademia - INFO - Application started
2025-03-18 00:42:23,062 - kademia - INFO - Request started | 843da39b-780c-45e3-a1c2-6729b88ff650 | POST /api/v1/staff/
2025-03-18 00:42:24,002 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 00:42:24,002 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:42:24,003 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 00:42:24,005 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:42:24,006 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 00:42:24,006 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:42:24,007 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:42:24,015 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-18 00:42:24,016 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'EDUCATOR', 'image_url': None, 'email_address': 'Aina.Folu@Example.Com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654321', 'department_id': UUID('589f17c4-3caa-4598-9a6d-e093f575ba28'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65'), 'password_hash': '$2b$12$ksMdIDilXm/HAfQKs5SeFO86dE.5a1Upyh02bQNOfngxAXiIJ.rsu', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 00:42:24,031 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 00:42:24,035 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:42:24,038 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, staff.id, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff 
WHERE staff.id = %(pk_1)s::UUID
2025-03-18 00:42:24,039 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {'pk_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 00:42:24,050 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 00:42:24,051 - kademia - INFO - Request completed | 843da39b-780c-45e3-a1c2-6729b88ff650 | Status: 201 | Time: 0.989s
2025-03-18 00:42:50,451 - kademia - INFO - Request started | af62bb07-a1cc-4022-896e-66c2d723f304 | POST /api/v1/staff/
2025-03-18 00:42:50,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:42:50,731 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-18 00:42:50,732 - sqlalchemy.engine.Engine - INFO - [cached since 26.72s ago] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'EDUCATOR', 'image_url': None, 'email_address': 'Aina.Folu@Example.Com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654351', 'department_id': UUID('589f17c4-3caa-4598-9a6d-e093f575ba28'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('786c78ac-8282-4d57-8a73-a398ad322d86'), 'password_hash': '$2b$12$C.Ex7yr6L9jHj1baRRGCreJze9F8wJsj3X64SLSd33CkAsxh6QoPm', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 00:42:50,745 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 00:42:50,748 - kademia - ERROR - Unhandled exception | af62bb07-a1cc-4022-896e-66c2d723f304 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654351', 'department_id': uuid('589f17c4-3caa-4598-9a6d-e093f575ba28'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('786c78ac-8282-4d57-8a73-a398ad322d86'), 'password_hash': '$2b$12$c.ex7yr6l9jhj1barrgcrejze9f8wjsj3x64slsd33ckasxh6qopm', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 61, in create_staff
    raise DuplicateStaffError(
app.core.errors.profile_errors.DuplicateStaffError: Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654351', 'department_id': uuid('589f17c4-3caa-4598-9a6d-e093f575ba28'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('786c78ac-8282-4d57-8a73-a398ad322d86'), 'password_hash': '$2b$12$c.ex7yr6l9jhj1barrgcrejze9f8wjsj3x64slsd33ckasxh6qopm', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 00:42:50,766 - kademia - WARNING - UniqueViolationError | af62bb07-a1cc-4022-896e-66c2d723f304 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654351', 'department_id': uuid('589f17c4-3caa-4598-9a6d-e093f575ba28'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('786c78ac-8282-4d57-8a73-a398ad322d86'), 'password_hash': '$2b$12$c.ex7yr6l9jhj1barrgcrejze9f8wjsj3x64slsd33ckasxh6qopm', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 00:43:20,569 - kademia - INFO - Request started | bd95b387-f845-4773-8cd6-28213bb06745 | POST /api/v1/staff/
2025-03-18 00:43:20,814 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:43:20,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-18 00:43:20,816 - sqlalchemy.engine.Engine - INFO - [cached since 56.8s ago] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'EDUCATOR', 'image_url': None, 'email_address': 'Aina.Folu@Example.Com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654351', 'department_id': UUID('589f17c4-3caa-4598-9a6d-e093f575ba56'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('e19a3b1e-74b1-4fe7-a239-1680e102dcdc'), 'password_hash': '$2b$12$JgAVRYBGzXwZx0saoGrnDeZVLiqbduc1DjH7FrrZ5z5i7x8lT895u', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 00:43:20,819 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 00:43:20,821 - kademia - ERROR - Unhandled exception | bd95b387-f845-4773-8cd6-28213bb06745 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654351', 'department_id': uuid('589f17c4-3caa-4598-9a6d-e093f575ba56'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('e19a3b1e-74b1-4fe7-a239-1680e102dcdc'), 'password_hash': '$2b$12$jgavrybgzxwzx0saogrndezvliqbduc1djh7frrz5z5i7x8lt895u', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 61, in create_staff
    raise DuplicateStaffError(
app.core.errors.profile_errors.DuplicateStaffError: Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654351', 'department_id': uuid('589f17c4-3caa-4598-9a6d-e093f575ba56'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('e19a3b1e-74b1-4fe7-a239-1680e102dcdc'), 'password_hash': '$2b$12$jgavrybgzxwzx0saogrndezvliqbduc1djh7frrz5z5i7x8lt895u', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 00:43:20,827 - kademia - WARNING - UniqueViolationError | bd95b387-f845-4773-8cd6-28213bb06745 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654351', 'department_id': uuid('589f17c4-3caa-4598-9a6d-e093f575ba56'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('e19a3b1e-74b1-4fe7-a239-1680e102dcdc'), 'password_hash': '$2b$12$jgavrybgzxwzx0saogrndezvliqbduc1djh7frrz5z5i7x8lt895u', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 00:43:27,082 - kademia - INFO - Request started | 98112833-1b6f-4388-9603-0e7f2e87d796 | POST /api/v1/staff/
2025-03-18 00:43:27,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:43:27,329 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-18 00:43:27,329 - sqlalchemy.engine.Engine - INFO - [cached since 63.31s ago] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'EDUCATOR', 'image_url': None, 'email_address': 'Ainra.Folu@Example.Com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654351', 'department_id': UUID('589f17c4-3caa-4598-9a6d-e093f575ba56'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('8ed2620c-515d-4d79-adb0-7a01f2021ac3'), 'password_hash': '$2b$12$DRR/6Q4RYw3s2Ma60k4jjO6lTgvus93/oVzi/TPc1eGB42Ct7sAeq', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 00:43:27,332 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 00:43:27,337 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:43:27,338 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, staff.id, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff 
WHERE staff.id = %(pk_1)s::UUID
2025-03-18 00:43:27,339 - sqlalchemy.engine.Engine - INFO - [cached since 63.3s ago] {'pk_1': UUID('8ed2620c-515d-4d79-adb0-7a01f2021ac3')}
2025-03-18 00:43:27,341 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 00:43:27,343 - kademia - INFO - Request completed | 98112833-1b6f-4388-9603-0e7f2e87d796 | Status: 201 | Time: 0.260s
2025-03-18 00:45:05,910 - kademia - INFO - Request started | 631726cf-1506-42ad-a268-b53470898c6c | DELETE /api/v1/staff/589f17c4-3caa-4598-9a6d-e093f575ba28
2025-03-18 00:45:05,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:45:05,916 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 00:45:05,917 - sqlalchemy.engine.Engine - INFO - [generated in 0.00092s] {'id_1': UUID('589f17c4-3caa-4598-9a6d-e093f575ba28'), 'param_1': 1}
2025-03-18 00:45:05,919 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 00:45:05,921 - kademia - ERROR - Unhandled exception | 631726cf-1506-42ad-a268-b53470898c6c | EntityNotFoundError.__init__() missing 1 required positional argument: 'error'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 53, in delete_staff
    return staff_crud.delete_staff(staff_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 81, in delete_staff
    self.factory.delete_staff(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 170, in delete_staff
    self.repository.delete(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 241, in delete
    raise EntityNotFoundError(
          ^^^^^^^^^^^^^^^^^^^^
TypeError: EntityNotFoundError.__init__() missing 1 required positional argument: 'error'
2025-03-18 00:45:05,941 - kademia - ERROR - Unhandled exception | 631726cf-1506-42ad-a268-b53470898c6c | EntityNotFoundError.__init__() missing 1 required positional argument: 'error'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 53, in delete_staff
    return staff_crud.delete_staff(staff_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 81, in delete_staff
    self.factory.delete_staff(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 170, in delete_staff
    self.repository.delete(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 241, in delete
    raise EntityNotFoundError(
          ^^^^^^^^^^^^^^^^^^^^
TypeError: EntityNotFoundError.__init__() missing 1 required positional argument: 'error'
2025-03-18 00:48:43,905 - kademia - INFO - Application started
2025-03-18 00:48:43,915 - kademia - INFO - Request started | ac74c521-d60c-432c-bc31-e43459563e6a | DELETE /api/v1/staff/589f17c4-3caa-4598-9a6d-e093f575ba28
2025-03-18 00:48:44,145 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 00:48:44,146 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:48:44,148 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 00:48:44,148 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:48:44,149 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 00:48:44,150 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:48:44,151 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:48:44,159 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 00:48:44,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00158s] {'id_1': UUID('589f17c4-3caa-4598-9a6d-e093f575ba28'), 'param_1': 1}
2025-03-18 00:48:44,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 00:48:44,169 - kademia - ERROR - Unhandled exception | ac74c521-d60c-432c-bc31-e43459563e6a | Staff not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 53, in delete_staff
    return staff_crud.delete_staff(staff_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 81, in delete_staff
    self.factory.delete_staff(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 172, in delete_staff
    raise StaffNotFoundError(id=staff_id, detail = str(e))
app.core.errors.profile_errors.StaffNotFoundError: Staff not found!
2025-03-18 00:48:44,177 - kademia - WARNING - EntityNotFoundError | ac74c521-d60c-432c-bc31-e43459563e6a | Staff with id:589f17c4-3caa-4598-9a6d-e093f575ba28 not found. Detail Record not found
2025-03-18 00:52:54,707 - kademia - INFO - Application started
2025-03-18 00:58:27,450 - kademia - INFO - Request started | cb57bf59-c6c5-4c56-ab00-4b093add75fb | DELETE /api/v1/staff/e51ce0d3-74e1-4d58-836a-cb52a5034f65
2025-03-18 00:58:27,751 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 00:58:27,752 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:58:27,753 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 00:58:27,754 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:58:27,755 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 00:58:27,757 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 00:58:27,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 00:58:27,764 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 00:58:27,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00113s] {'id_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65'), 'param_1': 1}
2025-03-18 00:58:27,773 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 00:58:27,774 - kademia - ERROR - Unhandled exception | cb57bf59-c6c5-4c56-ab00-4b093add75fb | No such polymorphic_identity <StaffType.EDUCATOR: 'EDUCATOR'> is defined
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 53, in delete_staff
    return staff_crud.delete_staff(staff_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 81, in delete_staff
    self.factory.delete_staff(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 170, in delete_staff
    self.repository.delete(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 241, in delete
    self.model.id == id).first()
                         ^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\engine\result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\engine\result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\engine\result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\engine\result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 223, in chunks
    rows = [proc(row) for row in fetch]
            ^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 1487, in polymorphic_instance
    _instance = polymorphic_instances[discriminator]
                ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 1461, in configure_subclass_mapper
    raise AssertionError(
AssertionError: No such polymorphic_identity <StaffType.EDUCATOR: 'EDUCATOR'> is defined
2025-03-18 00:58:27,797 - kademia - ERROR - Unhandled exception | cb57bf59-c6c5-4c56-ab00-4b093add75fb | No such polymorphic_identity <StaffType.EDUCATOR: 'EDUCATOR'> is defined
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 53, in delete_staff
    return staff_crud.delete_staff(staff_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 81, in delete_staff
    self.factory.delete_staff(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 170, in delete_staff
    self.repository.delete(staff_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 241, in delete
    self.model.id == id).first()
                         ^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2728, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\engine\result.py", line 1786, in first
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\engine\result.py", line 749, in _only_one_row
    row: Optional[_InterimRowType[Any]] = onerow(hard_close=True)
                                          ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\engine\result.py", line 1673, in _fetchone_impl
    return self._real_result._fetchone_impl(hard_close=hard_close)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\engine\result.py", line 2259, in _fetchone_impl
    row = next(self.iterator, _NO_ROW)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 223, in chunks
    rows = [proc(row) for row in fetch]
            ^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 1487, in polymorphic_instance
    _instance = polymorphic_instances[discriminator]
                ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\util\_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\sqlalchemy\orm\loading.py", line 1461, in configure_subclass_mapper
    raise AssertionError(
AssertionError: No such polymorphic_identity <StaffType.EDUCATOR: 'EDUCATOR'> is defined
2025-03-18 01:01:08,488 - kademia - INFO - Application started
2025-03-18 01:01:11,603 - kademia - INFO - Request started | 05533cc6-6800-47f4-aa0b-98905d4d95f1 | GET /docs
2025-03-18 01:01:11,603 - kademia - INFO - Request completed | 05533cc6-6800-47f4-aa0b-98905d4d95f1 | Status: 200 | Time: 0.000s
2025-03-18 01:01:11,816 - kademia - INFO - Request started | e9a6bf86-613d-408c-b0db-038d041938c4 | GET /openapi.json
2025-03-18 01:01:11,912 - kademia - INFO - Request completed | e9a6bf86-613d-408c-b0db-038d041938c4 | Status: 200 | Time: 0.096s
2025-03-18 01:01:38,953 - kademia - INFO - Request started | e8598f13-500b-48d2-a0c8-5ced11c017a9 | DELETE /api/v1/staff/e51ce0d3-74e1-4d58-836a-cb52a5034f65
2025-03-18 01:01:39,306 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:01:39,307 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:01:39,309 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:01:39,310 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:01:39,311 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:01:39,311 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:01:39,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:01:39,323 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 01:01:39,324 - sqlalchemy.engine.Engine - INFO - [generated in 0.00123s] {'id_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65'), 'param_1': 1}
2025-03-18 01:01:39,339 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE %(param_1)s::UUID = educator_qualifications.educator_id
2025-03-18 01:01:39,340 - sqlalchemy.engine.Engine - INFO - [generated in 0.00127s] {'param_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,358 - sqlalchemy.engine.Engine - INFO - SELECT subject_educators.id AS subject_educators_id, subject_educators.subject_id AS subject_educators_subject_id, subject_educators.educator_id AS subject_educators_educator_id, subject_educators.level_id AS subject_educators_level_id, subject_educators.academic_year AS subject_educators_academic_year, subject_educators.term AS subject_educators_term, subject_educators.is_active AS subject_educators_is_active, subject_educators.date_assigned AS subject_educators_date_assigned, subject_educators.created_by AS subject_educators_created_by, subject_educators.last_modified_by AS subject_educators_last_modified_by, subject_educators.created_at AS subject_educators_created_at, subject_educators.last_modified_at AS subject_educators_last_modified_at, subject_educators.is_archived AS subject_educators_is_archived, subject_educators.archived_at AS subject_educators_archived_at, subject_educators.archive_reason AS subject_educators_archive_reason, subject_educators.archived_by AS subject_educators_archived_by 
FROM subject_educators 
WHERE %(param_1)s::UUID = subject_educators.educator_id
2025-03-18 01:01:39,359 - sqlalchemy.engine.Engine - INFO - [generated in 0.00106s] {'param_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,368 - sqlalchemy.engine.Engine - INFO - SELECT student_departments.id AS student_departments_id, student_departments.name AS student_departments_name, student_departments.description AS student_departments_description, student_departments.mentor_id AS student_departments_mentor_id, student_departments.student_rep_id AS student_departments_student_rep_id, student_departments.assistant_rep_id AS student_departments_assistant_rep_id, student_departments.created_by AS student_departments_created_by, student_departments.last_modified_by AS student_departments_last_modified_by, student_departments.created_at AS student_departments_created_at, student_departments.last_modified_at AS student_departments_last_modified_at, student_departments.is_archived AS student_departments_is_archived, student_departments.archived_at AS student_departments_archived_at, student_departments.archive_reason AS student_departments_archive_reason, student_departments.archived_by AS student_departments_archived_by 
FROM student_departments 
WHERE %(param_1)s::UUID = student_departments.mentor_id
2025-03-18 01:01:39,369 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {'param_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,380 - sqlalchemy.engine.Engine - INFO - SELECT classes.id AS classes_id, classes.level_id AS classes_level_id, classes.code AS classes_code, classes.mentor_id AS classes_mentor_id, classes.student_rep_id AS classes_student_rep_id, classes.assistant_rep_id AS classes_assistant_rep_id, classes."order" AS classes_order, classes.created_by AS classes_created_by, classes.last_modified_by AS classes_last_modified_by, classes.created_at AS classes_created_at, classes.last_modified_at AS classes_last_modified_at, classes.is_archived AS classes_is_archived, classes.archived_at AS classes_archived_at, classes.archive_reason AS classes_archive_reason, classes.archived_by AS classes_archived_by 
FROM classes 
WHERE %(param_1)s::UUID = classes.mentor_id
2025-03-18 01:01:39,381 - sqlalchemy.engine.Engine - INFO - [generated in 0.00144s] {'param_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,392 - sqlalchemy.engine.Engine - INFO - SELECT access_level_changes.id AS access_level_changes_id, access_level_changes.staff_id AS access_level_changes_staff_id, access_level_changes.previous_level AS access_level_changes_previous_level, access_level_changes.new_level AS access_level_changes_new_level, access_level_changes.reason AS access_level_changes_reason, access_level_changes.changed_at AS access_level_changes_changed_at, access_level_changes.changed_by_id AS access_level_changes_changed_by_id 
FROM access_level_changes 
WHERE %(param_1)s::UUID = access_level_changes.staff_id
2025-03-18 01:01:39,393 - sqlalchemy.engine.Engine - INFO - [generated in 0.00097s] {'param_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,402 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.created_by
2025-03-18 01:01:39,403 - sqlalchemy.engine.Engine - INFO - [generated in 0.00098s] {'param_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,405 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.last_modified_by
2025-03-18 01:01:39,407 - sqlalchemy.engine.Engine - INFO - [generated in 0.00133s] {'param_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,411 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.archived_by
2025-03-18 01:01:39,423 - sqlalchemy.engine.Engine - INFO - [generated in 0.01212s] {'param_1': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,430 - sqlalchemy.engine.Engine - INFO - DELETE FROM educators WHERE educators.id = %(id)s::UUID
2025-03-18 01:01:39,431 - sqlalchemy.engine.Engine - INFO - [generated in 0.00100s] {'id': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,438 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff WHERE staff.id = %(id)s::UUID
2025-03-18 01:01:39,439 - sqlalchemy.engine.Engine - INFO - [generated in 0.00111s] {'id': UUID('e51ce0d3-74e1-4d58-836a-cb52a5034f65')}
2025-03-18 01:01:39,440 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 01:01:39,444 - kademia - INFO - Request completed | e8598f13-500b-48d2-a0c8-5ced11c017a9 | Status: 204 | Time: 0.490s
2025-03-18 01:02:01,563 - kademia - INFO - Request started | 8258825a-2642-457a-8cb9-7aae01e3843b | PATCH /api/v1/staff/8ed2620c-515d-4d79-adb0-7a01f2021ac3
2025-03-18 01:02:01,567 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:02:01,568 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 01:02:01,569 - sqlalchemy.engine.Engine - INFO - [cached since 22.25s ago] {'id_1': UUID('8ed2620c-515d-4d79-adb0-7a01f2021ac3'), 'param_1': 1}
2025-03-18 01:02:01,575 - sqlalchemy.engine.Engine - INFO - UPDATE staff SET last_modified_at=now(), is_archived=%(is_archived)s, archived_at=%(archived_at)s, archive_reason=%(archive_reason)s, archived_by=%(archived_by)s::UUID WHERE staff.id = %(staff_id)s::UUID
2025-03-18 01:02:01,580 - sqlalchemy.engine.Engine - INFO - [generated in 0.00453s] {'is_archived': True, 'archived_at': datetime.datetime(2025, 3, 18, 1, 2, 1, 570284, tzinfo=datetime.timezone.utc), 'archive_reason': 'ERROR', 'archived_by': UUID('00000000-0000-0000-0000-000000000000'), 'staff_id': UUID('8ed2620c-515d-4d79-adb0-7a01f2021ac3')}
2025-03-18 01:02:01,595 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 01:02:01,599 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:02:01,605 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, educators.id, staff.id AS id_1, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff JOIN educators ON educators.id = staff.id 
WHERE staff.id = %(pk_1)s::UUID
2025-03-18 01:02:01,606 - sqlalchemy.engine.Engine - INFO - [generated in 0.00143s] {'pk_1': UUID('8ed2620c-515d-4d79-adb0-7a01f2021ac3')}
2025-03-18 01:02:01,610 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:02:01,614 - kademia - ERROR - Unhandled exception | 8258825a-2642-457a-8cb9-7aae01e3843b | An unexpected error occurred
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 47, in archive_staff
    return staff_crud.archive_staff(staff_id, reason.reason)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 74, in archive_staff
    self.factory.archive_staff(staff_id, reason)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 159, in archive_staff
    return self.repository.archive(staff_id, SYSTEM_USER_ID, reason)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 228, in archive
    raise TKDatabaseError(error=str(e))
app.core.errors.database_errors.DatabaseError: An unexpected error occurred
2025-03-18 01:02:01,632 - kademia - ERROR - DatabaseError | 8258825a-2642-457a-8cb9-7aae01e3843b | Database operation failed. Detail: Could not refresh instance '<Educator at 0x27043475e50>'
2025-03-18 01:03:30,864 - kademia - INFO - Request started | 588db56f-a39b-45ba-908a-ee53a36ffd59 | PATCH /api/v1/staff/8ed2620c-515d-4d79-adb0-7a01f2021ac3
2025-03-18 01:03:30,868 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:03:30,869 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 01:03:30,870 - sqlalchemy.engine.Engine - INFO - [cached since 111.5s ago] {'id_1': UUID('8ed2620c-515d-4d79-adb0-7a01f2021ac3'), 'param_1': 1}
2025-03-18 01:03:30,872 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:03:30,872 - kademia - ERROR - Unhandled exception | 588db56f-a39b-45ba-908a-ee53a36ffd59 | Staff not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 47, in archive_staff
    return staff_crud.archive_staff(staff_id, reason.reason)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 74, in archive_staff
    self.factory.archive_staff(staff_id, reason)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 161, in archive_staff
    raise StaffNotFoundError(id=staff_id, detail = str(e))
app.core.errors.profile_errors.StaffNotFoundError: Staff not found!
2025-03-18 01:03:30,879 - kademia - WARNING - EntityNotFoundError | 588db56f-a39b-45ba-908a-ee53a36ffd59 | Staff with id:8ed2620c-515d-4d79-adb0-7a01f2021ac3 not found. Detail Record not found
2025-03-18 01:04:35,649 - kademia - INFO - Request started | 25ceb88a-803a-41ed-914f-2ea5a0f36987 | GET /api/v1/archive/staff/8ed2620c-515d-4d79-adb0-7a01f2021ac3
2025-03-18 01:04:35,654 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:04:35,657 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = true AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 01:04:35,658 - sqlalchemy.engine.Engine - INFO - [generated in 0.00113s] {'id_1': UUID('8ed2620c-515d-4d79-adb0-7a01f2021ac3'), 'param_1': 1}
2025-03-18 01:04:35,664 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:04:35,665 - kademia - ERROR - Unhandled exception | 25ceb88a-803a-41ed-914f-2ea5a0f36987 | 1 validation error for StaffResponse
staff_type
  Input should be 'EDUCATOR', 'OPERATIONS', 'SUPPORT' or 'SYSTEM' [type=enum, input_value=<StaffType.EDUCATOR: 'Educator'>, input_type=StaffType]
    For further information visit https://errors.pydantic.dev/2.10/v/enum
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\archived_staff.py", line 22, in get_archived_staff
    return staff_crud.get_archived_staff(staff_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 93, in get_archived_staff
    return StaffResponse.model_validate(staff)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for StaffResponse
staff_type
  Input should be 'EDUCATOR', 'OPERATIONS', 'SUPPORT' or 'SYSTEM' [type=enum, input_value=<StaffType.EDUCATOR: 'Educator'>, input_type=StaffType]
    For further information visit https://errors.pydantic.dev/2.10/v/enum
2025-03-18 01:04:35,679 - kademia - ERROR - Unhandled exception | 25ceb88a-803a-41ed-914f-2ea5a0f36987 | 1 validation error for StaffResponse
staff_type
  Input should be 'EDUCATOR', 'OPERATIONS', 'SUPPORT' or 'SYSTEM' [type=enum, input_value=<StaffType.EDUCATOR: 'Educator'>, input_type=StaffType]
    For further information visit https://errors.pydantic.dev/2.10/v/enum
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\archived_staff.py", line 22, in get_archived_staff
    return staff_crud.get_archived_staff(staff_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 93, in get_archived_staff
    return StaffResponse.model_validate(staff)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for StaffResponse
staff_type
  Input should be 'EDUCATOR', 'OPERATIONS', 'SUPPORT' or 'SYSTEM' [type=enum, input_value=<StaffType.EDUCATOR: 'Educator'>, input_type=StaffType]
    For further information visit https://errors.pydantic.dev/2.10/v/enum
2025-03-18 01:10:05,323 - kademia - INFO - Application started
2025-03-18 01:11:52,175 - kademia - INFO - Request started | 424cc8b9-27e3-49c8-9454-d532256e32f2 | GET /docs
2025-03-18 01:11:52,176 - kademia - INFO - Request completed | 424cc8b9-27e3-49c8-9454-d532256e32f2 | Status: 200 | Time: 0.001s
2025-03-18 01:11:52,461 - kademia - INFO - Request started | 1aa2f5bb-74a0-4884-98bb-123a22e2a4b5 | GET /openapi.json
2025-03-18 01:11:52,568 - kademia - INFO - Request completed | 1aa2f5bb-74a0-4884-98bb-123a22e2a4b5 | Status: 200 | Time: 0.106s
2025-03-18 01:12:52,646 - kademia - INFO - Request started | 4bc14a9e-2f62-45ac-b71a-f4730ba30c57 | POST /api/v1/staff/qualifications/
2025-03-18 01:12:53,062 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:12:53,064 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:12:53,065 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:12:53,065 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:12:53,067 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:12:53,068 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:12:53,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:12:53,073 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:12:53,074 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'id': UUID('652d1c66-12ea-47dd-a20b-e7b18191df38'), 'educator_id': UUID('00000000-0000-0000-0000-000000000000'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:12:53,087 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:12:53,089 - kademia - ERROR - Unhandled exception | 4bc14a9e-2f62-45ac-b71a-f4730ba30c57 | RelationshipError.__init__() missing 1 required positional argument: 'entity'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 45, in create_qualification
    return self.repository.create(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 70, in create
    raise RelationshipError(operation = "create", error=str(e))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: RelationshipError.__init__() missing 1 required positional argument: 'entity'
2025-03-18 01:12:53,107 - kademia - ERROR - Unhandled exception | 4bc14a9e-2f62-45ac-b71a-f4730ba30c57 | RelationshipError.__init__() missing 1 required positional argument: 'entity'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 45, in create_qualification
    return self.repository.create(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 70, in create
    raise RelationshipError(operation = "create", error=str(e))
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: RelationshipError.__init__() missing 1 required positional argument: 'entity'
2025-03-18 01:14:03,789 - kademia - INFO - Application started
2025-03-18 01:14:31,844 - kademia - INFO - Application started
2025-03-18 01:14:32,036 - kademia - INFO - Request started | 245624de-eaff-492c-8b7b-d22f867734ac | GET /docs
2025-03-18 01:14:32,038 - kademia - INFO - Request completed | 245624de-eaff-492c-8b7b-d22f867734ac | Status: 200 | Time: 0.002s
2025-03-18 01:14:32,193 - kademia - INFO - Request started | 92e83e50-f369-420c-9902-587655104ba3 | GET /openapi.json
2025-03-18 01:14:32,314 - kademia - INFO - Request completed | 92e83e50-f369-420c-9902-587655104ba3 | Status: 200 | Time: 0.119s
2025-03-18 01:14:38,247 - kademia - INFO - Request started | 465d7cd5-fbfa-48d0-8c56-1899bf99d26c | POST /api/v1/staff/qualifications/
2025-03-18 01:14:38,532 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:14:38,532 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:14:38,533 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:14:38,534 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:14:38,536 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:14:38,536 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:14:38,537 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:14:38,540 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:14:38,541 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] {'id': UUID('8e3783b9-93b1-4beb-aa3e-f33512ee12e5'), 'educator_id': UUID('00000000-0000-0000-0000-000000000000'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:14:38,544 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:14:38,546 - kademia - ERROR - Unhandled exception | 465d7cd5-fbfa-48d0-8c56-1899bf99d26c | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:14:38,558 - kademia - ERROR - Unhandled exception | 465d7cd5-fbfa-48d0-8c56-1899bf99d26c | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:20:47,611 - kademia - INFO - Application started
2025-03-18 01:21:11,674 - kademia - INFO - Request started | d6cc683f-8066-4e9c-aadf-37e1df76ba75 | POST /api/v1/staff/qualifications/
2025-03-18 01:21:12,037 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:21:12,038 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:21:12,039 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:21:12,040 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:21:12,041 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:21:12,041 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:21:12,043 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:21:12,046 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:21:12,046 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] {'id': UUID('34591716-b7b1-4150-ad46-7ce0f2395825'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:21:12,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:21:12,051 - kademia - ERROR - Unhandled exception | d6cc683f-8066-4e9c-aadf-37e1df76ba75 | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:21:12,059 - kademia - ERROR - Unhandled exception | d6cc683f-8066-4e9c-aadf-37e1df76ba75 | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:23:00,928 - kademia - INFO - Application started
2025-03-18 01:23:06,516 - kademia - INFO - Request started | d2d624de-a8dd-463a-822b-69d6359ce93a | POST /api/v1/staff/qualifications/
2025-03-18 01:23:06,807 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:23:06,807 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:23:06,809 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:23:06,809 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:23:06,811 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:23:06,811 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:23:06,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:23:06,816 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:23:06,816 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] {'id': UUID('120b559b-2990-48fd-9080-f27aa1c6b186'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:23:06,820 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:23:06,823 - kademia - ERROR - Unhandled exception | d2d624de-a8dd-463a-822b-69d6359ce93a | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:23:06,831 - kademia - ERROR - Unhandled exception | d2d624de-a8dd-463a-822b-69d6359ce93a | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:23:26,649 - kademia - INFO - Application started
2025-03-18 01:23:44,028 - kademia - INFO - Application started
2025-03-18 01:23:49,645 - kademia - INFO - Request started | 38640793-6a9e-4196-be6a-7612e2365a18 | GET /docs
2025-03-18 01:23:49,646 - kademia - INFO - Request completed | 38640793-6a9e-4196-be6a-7612e2365a18 | Status: 200 | Time: 0.000s
2025-03-18 01:23:49,786 - kademia - INFO - Request started | 51d8d6c8-3528-41ca-98d1-6978ffdc8789 | GET /openapi.json
2025-03-18 01:23:49,925 - kademia - INFO - Request completed | 51d8d6c8-3528-41ca-98d1-6978ffdc8789 | Status: 200 | Time: 0.138s
2025-03-18 01:23:56,316 - kademia - INFO - Request started | 6827fb21-6ce3-4319-89df-ff26e0a6c7ff | POST /api/v1/staff/qualifications/
2025-03-18 01:23:56,597 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:23:56,598 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:23:56,599 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:23:56,600 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:23:56,600 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:23:56,601 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:23:56,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:23:56,605 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:23:56,606 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {'id': UUID('6a07764b-7f83-4274-b4f5-f80ab3e63255'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:23:56,610 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:23:56,612 - kademia - ERROR - Unhandled exception | 6827fb21-6ce3-4319-89df-ff26e0a6c7ff | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:23:56,625 - kademia - ERROR - Unhandled exception | 6827fb21-6ce3-4319-89df-ff26e0a6c7ff | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:28:23,619 - kademia - INFO - Application started
2025-03-18 01:28:28,269 - kademia - INFO - Request started | 5ac9dfb3-e103-48a5-8add-defad803d506 | GET /docs
2025-03-18 01:28:28,272 - kademia - INFO - Request completed | 5ac9dfb3-e103-48a5-8add-defad803d506 | Status: 200 | Time: 0.002s
2025-03-18 01:28:28,411 - kademia - INFO - Request started | 2c74a5b3-a9d4-4f2c-9742-106da01b2af0 | GET /openapi.json
2025-03-18 01:28:28,548 - kademia - INFO - Request completed | 2c74a5b3-a9d4-4f2c-9742-106da01b2af0 | Status: 200 | Time: 0.136s
2025-03-18 01:28:34,547 - kademia - INFO - Request started | 6339217a-be05-45c1-ab69-0b11a96541db | POST /api/v1/staff/qualifications/
2025-03-18 01:28:34,818 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:28:34,819 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:28:34,824 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:28:34,824 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:28:34,825 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:28:34,826 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:28:34,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:28:34,830 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:28:34,830 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] {'id': UUID('4dcd702b-92e1-4aab-86fa-96ffc0328aa1'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:28:34,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:28:34,839 - kademia - ERROR - Unhandled exception | 6339217a-be05-45c1-ab69-0b11a96541db | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:28:34,851 - kademia - ERROR - Unhandled exception | 6339217a-be05-45c1-ab69-0b11a96541db | 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 31, in create_qualification
    return QualificationResponse.model_validate(qualification)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for QualificationResponse
  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type
2025-03-18 01:32:12,457 - kademia - INFO - Application started
2025-03-18 01:32:31,463 - kademia - INFO - Request started | b7ee6415-affb-454b-9088-c6a5549b7a8a | POST /api/v1/staff/departments/
2025-03-18 01:32:31,762 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:32:31,762 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:32:31,764 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:32:31,764 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:32:31,765 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:32:31,766 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:32:31,767 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:32:31,770 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(manager_id)s::UUID, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff_departments.created_at, staff_departments.last_modified_at
2025-03-18 01:32:31,771 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] {'id': UUID('4bcfe178-8858-43ae-b17d-7624844d4219'), 'name': 'Academic Affairs', 'description': 'Manages Academic Programs And Curriculum', 'manager_id': UUID('00000000-0000-0000-0000-000000000000'), 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:32:31,774 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:32:31,776 - kademia - ERROR - Unhandled exception | b7ee6415-affb-454b-9088-c6a5549b7a8a | Duplicate department creation attempted: Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(academic affairs) already exists.

[sql: insert into staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(name)s, %(description)s, %(manager_id)s::uuid, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff_departments.created_at, staff_departments.last_modified_at]
[parameters: {'id': uuid('4bcfe178-8858-43ae-b17d-7624844d4219'), 'name': 'academic affairs', 'description': 'manages academic programs and curriculum', 'manager_id': uuid('00000000-0000-0000-0000-000000000000'), 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 22, in create_staff_department
    return staff_departments_crud.create_department(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 30, in create_department
    department = self.factory.create_staff_department(data)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 41, in create_staff_department
    raise DuplicateDepartmentError(
app.core.errors.staff_organisation_errors.DuplicateDepartmentError: Duplicate department creation attempted: Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(academic affairs) already exists.

[sql: insert into staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(name)s, %(description)s, %(manager_id)s::uuid, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff_departments.created_at, staff_departments.last_modified_at]
[parameters: {'id': uuid('4bcfe178-8858-43ae-b17d-7624844d4219'), 'name': 'academic affairs', 'description': 'manages academic programs and curriculum', 'manager_id': uuid('00000000-0000-0000-0000-000000000000'), 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 01:32:31,792 - kademia - WARNING - UniqueViolationError | b7ee6415-affb-454b-9088-c6a5549b7a8a | Duplicate department creation attempted: Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(academic affairs) already exists.

[sql: insert into staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(name)s, %(description)s, %(manager_id)s::uuid, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff_departments.created_at, staff_departments.last_modified_at]
[parameters: {'id': uuid('4bcfe178-8858-43ae-b17d-7624844d4219'), 'name': 'academic affairs', 'description': 'manages academic programs and curriculum', 'manager_id': uuid('00000000-0000-0000-0000-000000000000'), 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 01:32:44,901 - kademia - INFO - Request started | fffcbe93-ce9d-4f23-8dfe-c631b774cde6 | POST /api/v1/staff/departments/
2025-03-18 01:32:44,904 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:32:44,904 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(manager_id)s::UUID, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff_departments.created_at, staff_departments.last_modified_at
2025-03-18 01:32:44,905 - sqlalchemy.engine.Engine - INFO - [cached since 13.14s ago] {'id': UUID('61d794fe-9f8f-4b31-8c31-9e5bb143b44e'), 'name': 'Academt4Tic Affairs', 'description': 'Manages Academic Programs And Curriculum', 'manager_id': UUID('00000000-0000-0000-0000-000000000000'), 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:32:44,907 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 01:32:44,910 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:32:44,915 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id, staff_departments.name, staff_departments.description, staff_departments.manager_id, staff_departments.created_by, staff_departments.last_modified_by, staff_departments.created_at, staff_departments.last_modified_at, staff_departments.is_archived, staff_departments.archived_at, staff_departments.archive_reason, staff_departments.archived_by 
FROM staff_departments 
WHERE staff_departments.id = %(pk_1)s::UUID
2025-03-18 01:32:44,917 - sqlalchemy.engine.Engine - INFO - [generated in 0.00100s] {'pk_1': UUID('61d794fe-9f8f-4b31-8c31-9e5bb143b44e')}
2025-03-18 01:32:44,924 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:32:44,926 - kademia - INFO - Request completed | fffcbe93-ce9d-4f23-8dfe-c631b774cde6 | Status: 201 | Time: 0.024s
2025-03-18 01:34:29,955 - kademia - INFO - Request started | e0b028b7-2fa7-482a-bfc3-8632425839a6 | GET /api/v1/staff/qualifications/
2025-03-18 01:34:29,960 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:34:29,962 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false ORDER BY educator_qualifications.name DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-03-18 01:34:29,963 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] {'param_1': 50, 'param_2': 0}
2025-03-18 01:34:29,969 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:34:29,972 - kademia - INFO - Request completed | e0b028b7-2fa7-482a-bfc3-8632425839a6 | Status: 200 | Time: 0.016s
2025-03-18 01:37:19,881 - kademia - INFO - Application started
2025-03-18 01:38:13,494 - kademia - INFO - Application started
2025-03-18 01:38:26,155 - kademia - INFO - Request started | f3aa0239-35da-4dbd-abb6-e08fb8a7d019 | POST /api/v1/staff/qualifications/
2025-03-18 01:38:26,475 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:38:26,476 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:38:26,477 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:38:26,478 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:38:26,479 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:38:26,479 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:38:26,481 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:38:26,485 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:38:26,485 - sqlalchemy.engine.Engine - INFO - [generated in 0.00094s] {'id': UUID('dd7600b1-ca3c-4da4-bc28-763c030b4286'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:38:26,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:38:26,492 - kademia - ERROR - Unhandled exception | f3aa0239-35da-4dbd-abb6-e08fb8a7d019 | Cannot create record because related Unknown does not exist
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 45, in create_qualification
    result = self.repository.create(qualification)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 70, in create
    raise RelationshipError(operation = "create", error=str(e), entity ='Unknown')
app.core.errors.database_errors.RelationshipError: Cannot create record because related Unknown does not exist
2025-03-18 01:38:26,504 - kademia - WARNING - RelationshipError | f3aa0239-35da-4dbd-abb6-e08fb8a7d019 | Foreign key constraint violation during create operation. Detail: (psycopg2.errors.ForeignKeyViolation) insert or update on table "educator_qualifications" violates foreign key constraint "fk_educator_qualifications_educators_educator_id"
DETAIL:  Key (educator_id)=(00000000-0000-0000-0000-000000000001) is not present in table "educators".

[SQL: INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': UUID('dd7600b1-ca3c-4da4-bc28-763c030b4286'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 01:41:26,548 - kademia - INFO - Application started
2025-03-18 01:41:29,136 - kademia - INFO - Request started | 432db538-cf02-4112-898c-a0c98f39766f | GET /docs
2025-03-18 01:41:29,137 - kademia - INFO - Request completed | 432db538-cf02-4112-898c-a0c98f39766f | Status: 200 | Time: 0.001s
2025-03-18 01:41:29,283 - kademia - INFO - Request started | 0bcd4257-9fdf-4da1-8dc4-f84366180358 | GET /openapi.json
2025-03-18 01:41:29,372 - kademia - INFO - Request completed | 0bcd4257-9fdf-4da1-8dc4-f84366180358 | Status: 200 | Time: 0.089s
2025-03-18 01:41:36,168 - kademia - INFO - Request started | 55714416-4857-4766-9ff1-c436c930db02 | POST /api/v1/staff/qualifications/
2025-03-18 01:41:36,457 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:41:36,458 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:41:36,459 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:41:36,460 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:41:36,461 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:41:36,461 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:41:36,462 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:41:36,466 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:41:36,467 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] {'id': UUID('c6a6ca6f-3db4-4d07-a9ab-7a6705d4d7bc'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:41:36,472 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:41:36,474 - kademia - ERROR - Unhandled exception | 55714416-4857-4766-9ff1-c436c930db02 | Related educator not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 51, in create_qualification
    raise RelatedEducatorNotFoundError(id=new_qualification.educator_id, detail=str(e), action='create')
app.core.errors.profile_errors.RelatedEducatorNotFoundError: Related educator not found!
2025-03-18 01:41:36,483 - kademia - WARNING - RelationshipError | 55714416-4857-4766-9ff1-c436c930db02 | Error during during fk insertion of Educator with id:00000000-0000-0000-0000-000000000001 during create operation. Detail Cannot create record because related Unknown does not exist
2025-03-18 01:43:46,340 - kademia - INFO - Application started
2025-03-18 01:46:17,371 - kademia - INFO - Application started
2025-03-18 01:47:41,526 - kademia - INFO - Application started
2025-03-18 01:47:45,382 - kademia - INFO - Request started | 5fed0909-b8e9-4e4d-9d7a-f92ea0428efe | GET /docs
2025-03-18 01:47:45,383 - kademia - INFO - Request completed | 5fed0909-b8e9-4e4d-9d7a-f92ea0428efe | Status: 200 | Time: 0.001s
2025-03-18 01:47:45,592 - kademia - INFO - Request started | 6b1f141e-2a12-41a5-a8da-ca3a5b9e9558 | GET /openapi.json
2025-03-18 01:47:45,721 - kademia - INFO - Request completed | 6b1f141e-2a12-41a5-a8da-ca3a5b9e9558 | Status: 200 | Time: 0.129s
2025-03-18 01:47:49,908 - kademia - INFO - Request started | 90c20c66-ff74-4791-8dc4-d99b8c9d172b | POST /api/v1/staff/qualifications/
2025-03-18 01:47:50,174 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:47:50,175 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:47:50,176 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:47:50,177 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:47:50,178 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:47:50,178 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:47:50,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:47:50,182 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:47:50,182 - sqlalchemy.engine.Engine - INFO - [generated in 0.00082s] {'id': UUID('06c40829-afa2-4618-bc5f-6399f83c9b11'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:47:50,186 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:47:50,188 - kademia - ERROR - Unhandled exception | 90c20c66-ff74-4791-8dc4-d99b8c9d172b | Cannot create record because related unknown does not exist
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 68, in create_qualification
    raise RelationshipError(error=str(e), operation='create', entity='unknown')
app.core.errors.database_errors.RelationshipError: Cannot create record because related unknown does not exist
2025-03-18 01:47:50,196 - kademia - WARNING - RelationshipError | 90c20c66-ff74-4791-8dc4-d99b8c9d172b | Foreign key constraint violation during create operation. Detail: Cannot create record because related Unknown does not exist
2025-03-18 01:52:30,472 - kademia - INFO - Application started
2025-03-18 01:52:30,478 - kademia - INFO - Request started | 27e94c36-1d67-423a-b180-10233cbd2c9c | POST /api/v1/staff/qualifications/
2025-03-18 01:52:30,683 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:52:30,683 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:52:30,685 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:52:30,685 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:52:30,686 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:52:30,687 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:52:30,688 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:52:30,690 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:52:30,691 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {'id': UUID('5a7338a0-49d2-4c18-8fc7-f421a8307ef1'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:52:30,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:52:30,696 - kademia - ERROR - Unhandled exception | 27e94c36-1d67-423a-b180-10233cbd2c9c | Related educator not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 51, in create_qualification
    raise RelatedEducatorNotFoundError(id=new_qualification.educator_id, detail=str(e), action='create')
app.core.errors.profile_errors.RelatedEducatorNotFoundError: Related educator not found!
2025-03-18 01:52:30,705 - kademia - WARNING - RelationshipError | 27e94c36-1d67-423a-b180-10233cbd2c9c | Error during during fk insertion of Educator with id:00000000-0000-0000-0000-000000000001 during create operation. Detail Cannot create record because related Unknown does not exist
2025-03-18 01:52:43,558 - kademia - INFO - Request started | 395652d5-04eb-47ef-a5bc-d77a8ded4494 | GET /docs
2025-03-18 01:52:43,559 - kademia - INFO - Request completed | 395652d5-04eb-47ef-a5bc-d77a8ded4494 | Status: 200 | Time: 0.001s
2025-03-18 01:52:44,357 - kademia - INFO - Request started | d00ae685-937c-41bb-bb1e-e4119dc688db | GET /openapi.json
2025-03-18 01:52:44,598 - kademia - INFO - Request completed | d00ae685-937c-41bb-bb1e-e4119dc688db | Status: 200 | Time: 0.240s
2025-03-18 01:52:50,676 - kademia - INFO - Request started | aaf15848-4661-4e88-9e78-22bd3b9ddfe8 | POST /api/v1/staff/qualifications/
2025-03-18 01:52:50,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:52:50,680 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 01:52:50,680 - sqlalchemy.engine.Engine - INFO - [cached since 19.99s ago] {'id': UUID('a2e5c534-79b4-4435-9c96-5ae949354183'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:52:50,682 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:52:50,684 - kademia - ERROR - Unhandled exception | aaf15848-4661-4e88-9e78-22bd3b9ddfe8 | Related educator not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 51, in create_qualification
    raise RelatedEducatorNotFoundError(id=new_qualification.educator_id, detail=str(e), action='create')
app.core.errors.profile_errors.RelatedEducatorNotFoundError: Related educator not found!
2025-03-18 01:52:50,688 - kademia - WARNING - RelationshipError | aaf15848-4661-4e88-9e78-22bd3b9ddfe8 | Error during during fk insertion of Educator with id:00000000-0000-0000-0000-000000000001 during create operation. Detail Cannot create record because related Unknown does not exist
2025-03-18 01:54:23,237 - kademia - INFO - Application started
2025-03-18 01:55:40,393 - kademia - INFO - Request started | 406da0bf-e639-4f03-bf9c-053f980f53f2 | POST /api/v1/staff/
2025-03-18 01:55:41,197 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 01:55:41,197 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:55:41,198 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 01:55:41,198 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:55:41,200 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 01:55:41,201 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 01:55:41,202 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:55:41,208 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-18 01:55:41,209 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'EDUCATOR', 'image_url': None, 'email_address': 'Aina.Folu@Example.Com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('61099575-2b1c-4ab6-9225-14dfe06cb60d'), 'password_hash': '$2b$12$ymxKSORfvdKQv2FxfSA/vePH/vEe9aGU.6Mb2r13XVvZVPIL58ReS', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 01:55:41,221 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 01:55:41,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 01:55:41,233 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, staff.id, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff 
WHERE staff.id = %(pk_1)s::UUID
2025-03-18 01:55:41,234 - sqlalchemy.engine.Engine - INFO - [generated in 0.00104s] {'pk_1': UUID('61099575-2b1c-4ab6-9225-14dfe06cb60d')}
2025-03-18 01:55:41,245 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 01:55:41,246 - kademia - INFO - Request completed | 406da0bf-e639-4f03-bf9c-053f980f53f2 | Status: 201 | Time: 0.853s
2025-03-18 02:02:02,504 - kademia - INFO - Request started | 7289dfb9-57f1-4897-8c14-b8d3cecaab7b | GET /docs
2025-03-18 02:02:02,505 - kademia - INFO - Request completed | 7289dfb9-57f1-4897-8c14-b8d3cecaab7b | Status: 200 | Time: 0.001s
2025-03-18 02:02:02,674 - kademia - INFO - Request started | 1e4de1b7-2d75-42fe-a48e-ae71183a5ee0 | GET /openapi.json
2025-03-18 02:02:02,832 - kademia - INFO - Request completed | 1e4de1b7-2d75-42fe-a48e-ae71183a5ee0 | Status: 200 | Time: 0.156s
2025-03-18 02:02:15,025 - kademia - INFO - Request started | 7b3dfbbf-ca98-4467-9046-e6e4e88e00d5 | POST /api/v1/staff/qualifications/
2025-03-18 02:02:15,030 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:02:15,032 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 02:02:15,033 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] {'id': UUID('02de74f7-ec04-432b-9bdd-80a756a1bf49'), 'educator_id': UUID('61099575-2b1c-4ab6-9225-14dfe06cb60d'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 02:02:15,040 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 02:02:15,042 - kademia - ERROR - Unhandled exception | 7b3dfbbf-ca98-4467-9046-e6e4e88e00d5 | Related educator not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 51, in create_qualification
    raise RelatedEducatorNotFoundError(id=new_qualification.educator_id, detail=str(e), action='create')
app.core.errors.profile_errors.RelatedEducatorNotFoundError: Related educator not found!
2025-03-18 02:02:15,075 - kademia - WARNING - RelationshipError | 7b3dfbbf-ca98-4467-9046-e6e4e88e00d5 | Error during during fk insertion of Educator with id:61099575-2b1c-4ab6-9225-14dfe06cb60d during create operation. Detail Cannot create record because related Unknown does not exist
2025-03-18 02:05:02,903 - kademia - INFO - Application started
2025-03-18 02:06:48,804 - kademia - INFO - Application started
2025-03-18 02:07:17,083 - kademia - INFO - Application started
2025-03-18 02:07:18,688 - kademia - INFO - Request started | c4a19a10-a8fe-45e5-ba62-6ecc0c7486e8 | GET /
2025-03-18 02:07:18,690 - kademia - INFO - Request completed | c4a19a10-a8fe-45e5-ba62-6ecc0c7486e8 | Status: 200 | Time: 0.001s
2025-03-18 02:07:18,860 - kademia - INFO - Request started | 07e724d5-04d6-42ac-a5e8-4e5a5c103a92 | GET /favicon.ico
2025-03-18 02:07:18,861 - kademia - INFO - Request completed | 07e724d5-04d6-42ac-a5e8-4e5a5c103a92 | Status: 404 | Time: 0.001s
2025-03-18 02:07:24,691 - kademia - INFO - Request started | 05cc0fff-ac1d-4184-bc3d-a1bc05fd3d93 | GET /docs
2025-03-18 02:07:24,692 - kademia - INFO - Request completed | 05cc0fff-ac1d-4184-bc3d-a1bc05fd3d93 | Status: 200 | Time: 0.000s
2025-03-18 02:07:24,860 - kademia - INFO - Request started | f4318910-125e-4b46-98a3-e844008eb063 | GET /openapi.json
2025-03-18 02:07:25,030 - kademia - INFO - Request completed | f4318910-125e-4b46-98a3-e844008eb063 | Status: 200 | Time: 0.169s
2025-03-18 02:07:38,743 - kademia - INFO - Request started | d121e61b-f528-429d-9ddd-de9e7203c9ea | POST /api/v1/staff/
2025-03-18 02:07:39,567 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 02:07:39,567 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 02:07:39,569 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 02:07:39,569 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 02:07:39,570 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 02:07:39,571 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 02:07:39,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:07:39,579 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-18 02:07:39,580 - sqlalchemy.engine.Engine - INFO - [generated in 0.00123s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'Aina.Folu@Example.Com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('87a92c02-ca23-46d4-9d2c-b103755fb768'), 'password_hash': '$2b$12$JiAY.oME62D20We5/V9U2uADYB/Bdh0lDgkLmmxrCP7MtoC2wwRgG', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 02:07:39,585 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 02:07:39,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:07:39,596 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, staff.id, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff 
WHERE staff.id = %(pk_1)s::UUID
2025-03-18 02:07:39,596 - sqlalchemy.engine.Engine - INFO - [generated in 0.00104s] {'pk_1': UUID('87a92c02-ca23-46d4-9d2c-b103755fb768')}
2025-03-18 02:07:39,605 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 02:07:39,607 - kademia - INFO - Request completed | d121e61b-f528-429d-9ddd-de9e7203c9ea | Status: 201 | Time: 0.863s
2025-03-18 02:08:49,432 - kademia - INFO - Request started | 18606cff-448d-4cdb-b2d6-509cb66839f0 | GET /docs
2025-03-18 02:08:49,433 - kademia - INFO - Request completed | 18606cff-448d-4cdb-b2d6-509cb66839f0 | Status: 200 | Time: 0.001s
2025-03-18 02:08:49,609 - kademia - INFO - Request started | 742ec031-f58f-402e-af38-cd8db01aaf80 | GET /openapi.json
2025-03-18 02:08:49,613 - kademia - INFO - Request completed | 742ec031-f58f-402e-af38-cd8db01aaf80 | Status: 200 | Time: 0.003s
2025-03-18 02:08:58,947 - kademia - INFO - Request started | 4958ceda-ffad-4a54-9523-ae572896864a | POST /api/v1/staff/qualifications/
2025-03-18 02:08:58,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:08:58,953 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 02:08:58,953 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] {'id': UUID('fcf8a313-0e3b-4866-8f7a-38d450d2a8c1'), 'educator_id': UUID('87a92c02-ca23-46d4-9d2c-b103755fb768'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 02:08:58,963 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 02:08:58,964 - kademia - ERROR - Unhandled exception | 4958ceda-ffad-4a54-9523-ae572896864a | Related educator not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 51, in create_qualification
    raise RelatedEducatorNotFoundError(id=new_qualification.educator_id, detail=str(e), action='create')
app.core.errors.profile_errors.RelatedEducatorNotFoundError: Related educator not found!
2025-03-18 02:08:59,020 - kademia - WARNING - RelationshipError | 4958ceda-ffad-4a54-9523-ae572896864a | Error during during fk insertion of Educator with id:87a92c02-ca23-46d4-9d2c-b103755fb768 during create operation. Detail Cannot create record because related Unknown does not exist
2025-03-18 02:30:18,910 - kademia - INFO - Application started
2025-03-18 02:34:27,931 - kademia - INFO - Application started
2025-03-18 02:37:57,273 - kademia - INFO - Application started
2025-03-18 02:39:16,747 - kademia - INFO - Request started | 57861030-adf2-48dc-b1aa-a1c499ce139b | GET /docs
2025-03-18 02:39:16,748 - kademia - INFO - Request completed | 57861030-adf2-48dc-b1aa-a1c499ce139b | Status: 200 | Time: 0.001s
2025-03-18 02:39:16,930 - kademia - INFO - Request started | 4f1f50c3-d92d-4f18-b721-eb13a149b99b | GET /openapi.json
2025-03-18 02:39:17,171 - kademia - INFO - Request completed | 4f1f50c3-d92d-4f18-b721-eb13a149b99b | Status: 200 | Time: 0.241s
2025-03-18 02:39:45,711 - kademia - INFO - Request started | 973bdb4a-5ab1-4766-8f34-47ba0fba4172 | POST /api/v1/staff/
2025-03-18 02:39:46,879 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 02:39:46,881 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 02:39:46,884 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 02:39:46,884 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 02:39:46,886 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 02:39:46,886 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 02:39:46,889 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:39:46,899 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-18 02:39:46,900 - sqlalchemy.engine.Engine - INFO - [generated in 0.00168s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'Aina.Folu@Example.Com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('c8296392-5817-4912-a54b-7371d7dec72e'), 'password_hash': '$2b$12$Y5Uf14NOxYG6CMHyqtQbNe7Vzsd51Fx7fcir7vKaiEDxn7RX6CFcq', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 02:39:46,907 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 02:39:46,910 - kademia - ERROR - Unhandled exception | 973bdb4a-5ab1-4766-8f34-47ba0fba4172 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('c8296392-5817-4912-a54b-7371d7dec72e'), 'password_hash': '$2b$12$y5uf14noxyg6cmhyqtqbne7vzsd51fx7fcir7vkaiedxn7rx6cfcq', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\profiles\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\profiles\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 75, in create_staff
    raise DuplicateStaffError(
app.core.errors.profile_errors.DuplicateStaffError: Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('c8296392-5817-4912-a54b-7371d7dec72e'), 'password_hash': '$2b$12$y5uf14noxyg6cmhyqtqbne7vzsd51fx7fcir7vkaiedxn7rx6cfcq', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 02:39:46,931 - kademia - WARNING - UniqueViolationError | 973bdb4a-5ab1-4766-8f34-47ba0fba4172 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('c8296392-5817-4912-a54b-7371d7dec72e'), 'password_hash': '$2b$12$y5uf14noxyg6cmhyqtqbne7vzsd51fx7fcir7vkaiedxn7rx6cfcq', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 02:40:14,705 - kademia - INFO - Request started | 65222dac-d163-4bd8-9815-90b4b775d04b | POST /api/v1/staff/
2025-03-18 02:40:15,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:40:15,087 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-18 02:40:15,088 - sqlalchemy.engine.Engine - INFO - [cached since 28.19s ago] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'Aikopna.Folu@Example.Com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087650321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('aada455f-6f8d-481a-aa53-54ec96f793a4'), 'password_hash': '$2b$12$cCDL/F/jD5uD1bVGLSLu0uSfG5IGb6og7NAtZkKXfjP/53/rHX4QG', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 02:40:15,094 - sqlalchemy.engine.Engine - INFO - INSERT INTO educators (id) VALUES (%(id)s::UUID)
2025-03-18 02:40:15,096 - sqlalchemy.engine.Engine - INFO - [generated in 0.00124s] {'id': UUID('aada455f-6f8d-481a-aa53-54ec96f793a4')}
2025-03-18 02:40:15,110 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 02:40:15,116 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:40:15,126 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, educators.id, staff.id AS id_1, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff JOIN educators ON educators.id = staff.id 
WHERE staff.id = %(pk_1)s::UUID
2025-03-18 02:40:15,127 - sqlalchemy.engine.Engine - INFO - [generated in 0.00155s] {'pk_1': UUID('aada455f-6f8d-481a-aa53-54ec96f793a4')}
2025-03-18 02:40:15,134 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 02:40:15,136 - kademia - INFO - Request completed | 65222dac-d163-4bd8-9815-90b4b775d04b | Status: 201 | Time: 0.431s
2025-03-18 02:41:00,887 - kademia - INFO - Request started | 24fe0518-e431-4b19-ada7-c64cfcdc9f7f | POST /api/v1/staff/qualifications/
2025-03-18 02:41:00,890 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:41:00,893 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 02:41:00,893 - sqlalchemy.engine.Engine - INFO - [generated in 0.00082s] {'id': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'educator_id': UUID('aada455f-6f8d-481a-aa53-54ec96f793a4'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 02:41:00,897 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 02:41:00,902 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 02:41:00,905 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id, educator_qualifications.educator_id, educator_qualifications.name, educator_qualifications.description, educator_qualifications.created_by, educator_qualifications.last_modified_by, educator_qualifications.created_at, educator_qualifications.last_modified_at, educator_qualifications.is_archived, educator_qualifications.archived_at, educator_qualifications.archive_reason, educator_qualifications.archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.id = %(pk_1)s::UUID
2025-03-18 02:41:00,906 - sqlalchemy.engine.Engine - INFO - [generated in 0.00114s] {'pk_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183')}
2025-03-18 02:41:00,915 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 02:41:00,917 - kademia - INFO - Request completed | 24fe0518-e431-4b19-ada7-c64cfcdc9f7f | Status: 201 | Time: 0.030s
2025-03-18 09:12:34,523 - kademia - INFO - Application started
2025-03-18 09:12:42,217 - kademia - INFO - Request started | 438afd4f-f10c-4942-9c21-d1dc83520598 | GET /
2025-03-18 09:12:42,219 - kademia - INFO - Request completed | 438afd4f-f10c-4942-9c21-d1dc83520598 | Status: 200 | Time: 0.002s
2025-03-18 09:12:42,418 - kademia - INFO - Request started | 539b955d-fc4d-4253-8721-b989d914d394 | GET /favicon.ico
2025-03-18 09:12:42,419 - kademia - INFO - Request completed | 539b955d-fc4d-4253-8721-b989d914d394 | Status: 404 | Time: 0.001s
2025-03-18 09:12:52,912 - kademia - INFO - Request started | 4e8475ed-fac3-4f48-976f-429168cc5551 | GET /docs
2025-03-18 09:12:52,914 - kademia - INFO - Request completed | 4e8475ed-fac3-4f48-976f-429168cc5551 | Status: 200 | Time: 0.001s
2025-03-18 09:12:53,084 - kademia - INFO - Request started | 5006d2b5-3e32-4de4-81bb-a08eb827947e | GET /openapi.json
2025-03-18 09:12:53,267 - kademia - INFO - Request completed | 5006d2b5-3e32-4de4-81bb-a08eb827947e | Status: 200 | Time: 0.182s
2025-03-18 09:13:10,774 - kademia - INFO - Request started | 828ed51c-a94d-452d-8c4c-b9ccea707a37 | GET /api/v1/staff/qualifications/
2025-03-18 09:13:11,238 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 09:13:11,238 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 09:13:11,240 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 09:13:11,241 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 09:13:11,243 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 09:13:11,243 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 09:13:11,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 09:13:11,254 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false ORDER BY educator_qualifications.name DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-03-18 09:13:11,256 - sqlalchemy.engine.Engine - INFO - [generated in 0.00200s] {'param_1': 50, 'param_2': 0}
2025-03-18 09:13:11,267 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 09:13:11,269 - kademia - INFO - Request completed | 828ed51c-a94d-452d-8c4c-b9ccea707a37 | Status: 200 | Time: 0.495s
2025-03-18 09:14:34,277 - kademia - INFO - Request started | b62b04e6-723f-4a9a-86c7-ded8fb112abd | GET /api/v1/staff/qualifications/
2025-03-18 09:14:34,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 09:14:34,281 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false ORDER BY educator_qualifications.name DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-03-18 09:14:34,281 - sqlalchemy.engine.Engine - INFO - [cached since 83.03s ago] {'param_1': 50, 'param_2': 0}
2025-03-18 09:14:34,283 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 09:14:34,285 - kademia - INFO - Request completed | b62b04e6-723f-4a9a-86c7-ded8fb112abd | Status: 200 | Time: 0.009s
2025-03-18 09:15:39,017 - kademia - INFO - Request started | 8348987d-d5c6-47bc-b46d-42ca2475218f | GET /api/v1/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 09:15:39,020 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 09:15:39,022 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 09:15:39,023 - sqlalchemy.engine.Engine - INFO - [generated in 0.00104s] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 09:15:39,027 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 09:15:39,028 - kademia - INFO - Request completed | 8348987d-d5c6-47bc-b46d-42ca2475218f | Status: 200 | Time: 0.010s
2025-03-18 17:47:05,021 - kademia - INFO - Application started
2025-03-18 17:47:05,066 - kademia - INFO - Request started | d7f19dd8-0671-45ce-a8f8-69413714e130 | GET /
2025-03-18 17:47:05,069 - kademia - INFO - Request completed | d7f19dd8-0671-45ce-a8f8-69413714e130 | Status: 200 | Time: 0.003s
2025-03-18 17:47:05,190 - kademia - INFO - Request started | 47d0dea7-6cd0-4c00-b8d1-80997ca2dd8c | GET /favicon.ico
2025-03-18 17:47:05,191 - kademia - INFO - Request completed | 47d0dea7-6cd0-4c00-b8d1-80997ca2dd8c | Status: 404 | Time: 0.000s
2025-03-18 17:47:11,735 - kademia - INFO - Request started | 0f96db84-d47f-4d02-915b-7aba88ddb5d4 | GET /docs
2025-03-18 17:47:11,737 - kademia - INFO - Request completed | 0f96db84-d47f-4d02-915b-7aba88ddb5d4 | Status: 200 | Time: 0.000s
2025-03-18 17:47:11,980 - kademia - INFO - Request started | f23e017e-1462-45b3-a459-96a5d9742b8b | GET /openapi.json
2025-03-18 17:47:12,071 - kademia - INFO - Request completed | f23e017e-1462-45b3-a459-96a5d9742b8b | Status: 200 | Time: 0.089s
2025-03-18 17:49:49,551 - kademia - INFO - Request started | 50eda4eb-6fa8-4fb0-ab8d-05decc7beb3a | GET /api/v1/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:49:49,834 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 17:49:49,834 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:49:49,837 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 17:49:49,837 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:49:49,839 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 17:49:49,840 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:49:49,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:49:49,851 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:49:49,853 - sqlalchemy.engine.Engine - INFO - [generated in 0.00238s] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:49:49,875 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:49:49,877 - kademia - INFO - Request completed | 50eda4eb-6fa8-4fb0-ab8d-05decc7beb3a | Status: 200 | Time: 0.325s
2025-03-18 17:50:09,046 - kademia - INFO - Request started | 4eb95a2a-3db0-46f5-bf4a-1e989f8506de | PUT /api/v1/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:50:09,050 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:50:09,051 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:50:09,052 - sqlalchemy.engine.Engine - INFO - [cached since 19.2s ago] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:50:09,056 - sqlalchemy.engine.Engine - INFO - UPDATE educator_qualifications SET name=%(name)s, description=%(description)s, last_modified_at=now() WHERE educator_qualifications.id = %(educator_qualifications_id)s::UUID
2025-03-18 17:50:09,057 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {'name': 'String', 'description': 'String', 'educator_qualifications_id': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183')}
2025-03-18 17:50:09,066 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:50:09,067 - sqlalchemy.engine.Engine - INFO - [cached since 19.22s ago] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:50:09,070 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 17:50:09,073 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:50:09,074 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id, educator_qualifications.educator_id, educator_qualifications.name, educator_qualifications.description, educator_qualifications.created_by, educator_qualifications.last_modified_by, educator_qualifications.created_at, educator_qualifications.last_modified_at, educator_qualifications.is_archived, educator_qualifications.archived_at, educator_qualifications.archive_reason, educator_qualifications.archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.id = %(pk_1)s::UUID
2025-03-18 17:50:09,088 - sqlalchemy.engine.Engine - INFO - [generated in 0.01325s] {'pk_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183')}
2025-03-18 17:50:09,091 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:50:09,092 - kademia - INFO - Request completed | 4eb95a2a-3db0-46f5-bf4a-1e989f8506de | Status: 200 | Time: 0.045s
2025-03-18 17:50:15,554 - kademia - INFO - Request started | ecd456b2-7c29-43dc-b0e2-c8c8a1344b21 | GET /api/v1/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:50:15,557 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:50:15,557 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:50:15,558 - sqlalchemy.engine.Engine - INFO - [cached since 25.71s ago] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:50:15,561 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:50:15,562 - kademia - INFO - Request completed | ecd456b2-7c29-43dc-b0e2-c8c8a1344b21 | Status: 200 | Time: 0.007s
2025-03-18 17:52:18,189 - kademia - INFO - Application started
2025-03-18 17:52:31,442 - kademia - INFO - Request started | c7104829-a3bb-4b64-a008-3e284c81b2fc | GET /api/v1/archive/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:52:31,720 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 17:52:31,720 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:52:31,722 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 17:52:31,722 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:52:31,723 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 17:52:31,723 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:52:31,725 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:52:31,729 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = true AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:52:31,729 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:52:31,736 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:52:31,737 - kademia - ERROR - Unhandled exception | c7104829-a3bb-4b64-a008-3e284c81b2fc | Qualification not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\archived_qualifications.py", line 22, in get_archived_qualification
    return qualifications_crud.get_archived_qualification(qualification_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 93, in get_archived_qualification
    qualification = self.factory.get_archived_qualification(qualification_id)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 164, in get_archived_qualification
    raise QualificationNotFoundError(id=qualification_id, detail = str(e))
app.core.errors.staff_organisation_errors.QualificationNotFoundError: Qualification not found!
2025-03-18 17:52:31,762 - kademia - WARNING - EntityNotFoundError | c7104829-a3bb-4b64-a008-3e284c81b2fc | Qualification with id:4b5e6c5c-4404-4736-bc4d-8a4a381b4183 not found. Detail: Record not found
2025-03-18 17:52:49,851 - kademia - INFO - Request started | 28f76190-c010-4498-98f5-cceb1d4517b3 | PATCH /api/v1/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:52:49,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:52:49,857 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:52:49,858 - sqlalchemy.engine.Engine - INFO - [generated in 0.00091s] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:52:49,864 - sqlalchemy.engine.Engine - INFO - UPDATE educator_qualifications SET last_modified_at=now(), is_archived=%(is_archived)s, archived_at=%(archived_at)s, archive_reason=%(archive_reason)s, archived_by=%(archived_by)s::UUID WHERE educator_qualifications.id = %(educator_qualifications_id)s::UUID
2025-03-18 17:52:49,864 - sqlalchemy.engine.Engine - INFO - [generated in 0.00087s] {'is_archived': True, 'archived_at': datetime.datetime(2025, 3, 18, 17, 52, 49, 860702, tzinfo=datetime.timezone.utc), 'archive_reason': 'ERROR', 'archived_by': UUID('00000000-0000-0000-0000-000000000000'), 'educator_qualifications_id': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183')}
2025-03-18 17:52:49,882 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 17:52:49,886 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:52:49,890 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id, educator_qualifications.educator_id, educator_qualifications.name, educator_qualifications.description, educator_qualifications.created_by, educator_qualifications.last_modified_by, educator_qualifications.created_at, educator_qualifications.last_modified_at, educator_qualifications.is_archived, educator_qualifications.archived_at, educator_qualifications.archive_reason, educator_qualifications.archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.id = %(pk_1)s::UUID
2025-03-18 17:52:49,891 - sqlalchemy.engine.Engine - INFO - [generated in 0.00099s] {'pk_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183')}
2025-03-18 17:52:49,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:52:49,894 - kademia - INFO - Request completed | 28f76190-c010-4498-98f5-cceb1d4517b3 | Status: 204 | Time: 0.042s
2025-03-18 17:53:56,673 - kademia - INFO - Request started | 73d04a17-311b-436a-9d3b-23b560120240 | GET /api/v1/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:53:56,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:53:56,674 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:53:56,676 - sqlalchemy.engine.Engine - INFO - [cached since 66.82s ago] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:53:56,679 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:53:56,680 - kademia - ERROR - Unhandled exception | 73d04a17-311b-436a-9d3b-23b560120240 | EntityNotFoundError.__init__() missing 1 required positional argument: 'error'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 35, in get_qualification
    return qualifications_crud.get_qualification(qualification_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 40, in get_qualification
    qualification = self.factory.get_qualification(qualification_id)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 71, in get_qualification
    return self.repository.get_by_id(qualification_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 95, in get_by_id
    raise EntityNotFoundError(
          ^^^^^^^^^^^^^^^^^^^^
TypeError: EntityNotFoundError.__init__() missing 1 required positional argument: 'error'
2025-03-18 17:53:56,691 - kademia - ERROR - Unhandled exception | 73d04a17-311b-436a-9d3b-23b560120240 | EntityNotFoundError.__init__() missing 1 required positional argument: 'error'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 35, in get_qualification
    return qualifications_crud.get_qualification(qualification_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 40, in get_qualification
    qualification = self.factory.get_qualification(qualification_id)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 71, in get_qualification
    return self.repository.get_by_id(qualification_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\database\db_repositories\sqlalchemy_repos\main_repo.py", line 95, in get_by_id
    raise EntityNotFoundError(
          ^^^^^^^^^^^^^^^^^^^^
TypeError: EntityNotFoundError.__init__() missing 1 required positional argument: 'error'
2025-03-18 17:54:59,110 - kademia - INFO - Application started
2025-03-18 17:55:00,471 - kademia - INFO - Request started | cd1e029d-de8d-47ba-b964-8ff57e684662 | GET /docs
2025-03-18 17:55:00,472 - kademia - INFO - Request completed | cd1e029d-de8d-47ba-b964-8ff57e684662 | Status: 200 | Time: 0.000s
2025-03-18 17:55:00,585 - kademia - INFO - Request started | 82f808f3-b9f3-4fdf-b108-c632c7a7c572 | GET /openapi.json
2025-03-18 17:55:00,707 - kademia - INFO - Request completed | 82f808f3-b9f3-4fdf-b108-c632c7a7c572 | Status: 200 | Time: 0.122s
2025-03-18 17:55:06,123 - kademia - INFO - Request started | c8cf128c-5029-42b6-94f9-fd4d91189fd1 | GET /api/v1/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:55:06,364 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 17:55:06,366 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:55:06,366 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 17:55:06,367 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:55:06,368 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 17:55:06,369 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:55:06,371 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:55:06,374 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:55:06,375 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:55:06,380 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:55:06,381 - kademia - ERROR - Unhandled exception | c8cf128c-5029-42b6-94f9-fd4d91189fd1 | Qualification not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 35, in get_qualification
    return qualifications_crud.get_qualification(qualification_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 40, in get_qualification
    qualification = self.factory.get_qualification(qualification_id)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 74, in get_qualification
    raise QualificationNotFoundError(id=qualification_id, detail = error_message)
app.core.errors.staff_organisation_errors.QualificationNotFoundError: Qualification not found!
2025-03-18 17:55:06,391 - kademia - WARNING - EntityNotFoundError | c8cf128c-5029-42b6-94f9-fd4d91189fd1 | Qualification with id:4b5e6c5c-4404-4736-bc4d-8a4a381b4183 not found. Detail: Record not found
2025-03-18 17:55:23,492 - kademia - INFO - Application started
2025-03-18 17:55:33,125 - kademia - INFO - Request started | d936caac-286d-4d56-b210-6c81723a6601 | GET /api/v1/archive/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:55:33,343 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 17:55:33,343 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:55:33,345 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 17:55:33,345 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:55:33,346 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 17:55:33,346 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 17:55:33,347 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:55:33,352 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = true AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:55:33,353 - sqlalchemy.engine.Engine - INFO - [generated in 0.00092s] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:55:33,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:55:33,361 - kademia - INFO - Request completed | d936caac-286d-4d56-b210-6c81723a6601 | Status: 200 | Time: 0.236s
2025-03-18 17:55:45,902 - kademia - INFO - Request started | 3df3e1d0-0c82-4154-a4dc-4910fae408c5 | DELETE /api/v1/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:55:45,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:55:45,906 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:55:45,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00100s] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:55:45,909 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:55:45,910 - kademia - ERROR - Unhandled exception | 3df3e1d0-0c82-4154-a4dc-4910fae408c5 | Qualification not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 55, in delete_qualification
    return qualifications_crud.delete_qualification(qualification_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 83, in delete_qualification
    self.factory.delete_qualification(qualification_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 140, in delete_qualification
    raise QualificationNotFoundError(id=qualification_id, detail = str(e))
app.core.errors.staff_organisation_errors.QualificationNotFoundError: Qualification not found!
2025-03-18 17:55:45,919 - kademia - WARNING - EntityNotFoundError | 3df3e1d0-0c82-4154-a4dc-4910fae408c5 | Qualification with id:4b5e6c5c-4404-4736-bc4d-8a4a381b4183 not found. Detail: Record not found
2025-03-18 17:55:56,747 - kademia - INFO - Request started | b1045242-77db-424c-92b7-2275f23043a2 | DELETE /api/v1/archive/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 17:55:56,749 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:55:56,750 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = true AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 17:55:56,750 - sqlalchemy.engine.Engine - INFO - [cached since 23.4s ago] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 17:55:56,754 - sqlalchemy.engine.Engine - INFO - DELETE FROM educator_qualifications WHERE educator_qualifications.id = %(id)s::UUID
2025-03-18 17:55:56,754 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {'id': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183')}
2025-03-18 17:55:56,756 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 17:55:56,764 - kademia - INFO - Request completed | b1045242-77db-424c-92b7-2275f23043a2 | Status: 204 | Time: 0.017s
2025-03-18 17:56:07,998 - kademia - INFO - Request started | 8fc29ce7-9b8c-4acb-bd56-45114b003da8 | POST /api/v1/staff/qualifications/
2025-03-18 17:56:08,005 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:56:08,008 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 17:56:08,009 - sqlalchemy.engine.Engine - INFO - [generated in 0.00107s] {'id': UUID('41653db7-dcf6-4eb1-8ceb-5d762a2dbb76'), 'educator_id': UUID('00000000-0000-0000-0000-000000000001'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 17:56:08,019 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:56:08,021 - kademia - ERROR - Unhandled exception | 8fc29ce7-9b8c-4acb-bd56-45114b003da8 | Related educator not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 51, in create_qualification
    raise RelatedEducatorNotFoundError(id=new_qualification.educator_id, detail=str(e), action='create')
app.core.errors.profile_errors.RelatedEducatorNotFoundError: Related educator not found!
2025-03-18 17:56:08,034 - kademia - WARNING - RelationshipError | 8fc29ce7-9b8c-4acb-bd56-45114b003da8 | Error during during fk insertion of Educator with id:00000000-0000-0000-0000-000000000001 during create operation. Detail Cannot create record because related Unknown does not exist
2025-03-18 17:56:47,833 - kademia - INFO - Request started | ff58b962-275a-4de4-aad4-28f0561f03be | POST /api/v1/staff/qualifications/
2025-03-18 17:56:47,835 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:56:47,836 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 17:56:47,837 - sqlalchemy.engine.Engine - INFO - [cached since 39.83s ago] {'id': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900'), 'educator_id': UUID('aada455f-6f8d-481a-aa53-54ec96f793a4'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 17:56:47,843 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 17:56:47,848 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 17:56:47,850 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id, educator_qualifications.educator_id, educator_qualifications.name, educator_qualifications.description, educator_qualifications.created_by, educator_qualifications.last_modified_by, educator_qualifications.created_at, educator_qualifications.last_modified_at, educator_qualifications.is_archived, educator_qualifications.archived_at, educator_qualifications.archive_reason, educator_qualifications.archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.id = %(pk_1)s::UUID
2025-03-18 17:56:47,850 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {'pk_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900')}
2025-03-18 17:56:47,853 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 17:56:47,855 - kademia - INFO - Request completed | ff58b962-275a-4de4-aad4-28f0561f03be | Status: 201 | Time: 0.021s
2025-03-18 18:01:06,202 - kademia - INFO - Request started | 08f99e3b-4062-4e32-abc9-c623e8977367 | PATCH /api/v1/staff/qualifications/94b904c8-28e1-438e-b6cd-b1c9183a5900
2025-03-18 18:01:06,206 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:01:06,207 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:01:06,208 - sqlalchemy.engine.Engine - INFO - [cached since 320.3s ago] {'id_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900'), 'param_1': 1}
2025-03-18 18:01:06,212 - sqlalchemy.engine.Engine - INFO - UPDATE educator_qualifications SET last_modified_at=now(), is_archived=%(is_archived)s, archived_at=%(archived_at)s, archive_reason=%(archive_reason)s, archived_by=%(archived_by)s::UUID WHERE educator_qualifications.id = %(educator_qualifications_id)s::UUID
2025-03-18 18:01:06,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00091s] {'is_archived': True, 'archived_at': datetime.datetime(2025, 3, 18, 18, 1, 6, 210052, tzinfo=datetime.timezone.utc), 'archive_reason': 'ERROR', 'archived_by': UUID('00000000-0000-0000-0000-000000000000'), 'educator_qualifications_id': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900')}
2025-03-18 18:01:06,215 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:01:06,221 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:01:06,221 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id, educator_qualifications.educator_id, educator_qualifications.name, educator_qualifications.description, educator_qualifications.created_by, educator_qualifications.last_modified_by, educator_qualifications.created_at, educator_qualifications.last_modified_at, educator_qualifications.is_archived, educator_qualifications.archived_at, educator_qualifications.archive_reason, educator_qualifications.archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.id = %(pk_1)s::UUID
2025-03-18 18:01:06,222 - sqlalchemy.engine.Engine - INFO - [cached since 258.4s ago] {'pk_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900')}
2025-03-18 18:01:06,224 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:01:06,225 - kademia - INFO - Request completed | 08f99e3b-4062-4e32-abc9-c623e8977367 | Status: 204 | Time: 0.022s
2025-03-18 18:01:15,031 - kademia - INFO - Request started | 334f6741-ef29-4000-8173-e1a6ed70012a | GET /api/v1/archive/staff/qualifications/4b5e6c5c-4404-4736-bc4d-8a4a381b4183
2025-03-18 18:01:15,032 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:01:15,033 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = true AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:01:15,034 - sqlalchemy.engine.Engine - INFO - [cached since 341.7s ago] {'id_1': UUID('4b5e6c5c-4404-4736-bc4d-8a4a381b4183'), 'param_1': 1}
2025-03-18 18:01:15,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:01:15,037 - kademia - ERROR - Unhandled exception | 334f6741-ef29-4000-8173-e1a6ed70012a | Qualification not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\archived_qualifications.py", line 22, in get_archived_qualification
    return qualifications_crud.get_archived_qualification(qualification_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 93, in get_archived_qualification
    qualification = self.factory.get_archived_qualification(qualification_id)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 164, in get_archived_qualification
    raise QualificationNotFoundError(id=qualification_id, detail = str(e))
app.core.errors.staff_organisation_errors.QualificationNotFoundError: Qualification not found!
2025-03-18 18:01:15,042 - kademia - WARNING - EntityNotFoundError | 334f6741-ef29-4000-8173-e1a6ed70012a | Qualification with id:4b5e6c5c-4404-4736-bc4d-8a4a381b4183 not found. Detail: Record not found
2025-03-18 18:01:20,195 - kademia - INFO - Request started | cc7b233d-678b-4727-ad52-9a6e37e020c4 | GET /api/v1/archive/staff/qualifications/94b904c8-28e1-438e-b6cd-b1c9183a5900
2025-03-18 18:01:20,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:01:20,197 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = true AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:01:20,198 - sqlalchemy.engine.Engine - INFO - [cached since 346.8s ago] {'id_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900'), 'param_1': 1}
2025-03-18 18:01:20,201 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:01:20,202 - kademia - INFO - Request completed | cc7b233d-678b-4727-ad52-9a6e37e020c4 | Status: 200 | Time: 0.006s
2025-03-18 18:01:31,396 - kademia - INFO - Request started | 574345d5-f739-4b0a-9675-fe6a07e4794c | PATCH /api/v1/archive/staff/qualifications/94b904c8-28e1-438e-b6cd-b1c9183a5900
2025-03-18 18:01:31,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:01:31,398 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = true AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:01:31,399 - sqlalchemy.engine.Engine - INFO - [cached since 358s ago] {'id_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900'), 'param_1': 1}
2025-03-18 18:01:31,404 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = true AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:01:31,405 - sqlalchemy.engine.Engine - INFO - [cached since 358.1s ago] {'id_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900'), 'param_1': 1}
2025-03-18 18:01:31,408 - sqlalchemy.engine.Engine - INFO - UPDATE educator_qualifications SET last_modified_at=now(), is_archived=%(is_archived)s WHERE educator_qualifications.id = %(educator_qualifications_id)s::UUID
2025-03-18 18:01:31,408 - sqlalchemy.engine.Engine - INFO - [generated in 0.00103s] {'is_archived': False, 'educator_qualifications_id': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900')}
2025-03-18 18:01:31,410 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:01:31,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:01:31,418 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.id = %(pk_1)s::UUID
2025-03-18 18:01:31,419 - sqlalchemy.engine.Engine - INFO - [generated in 0.00125s] {'pk_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900')}
2025-03-18 18:01:31,423 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:01:31,423 - kademia - INFO - Request completed | 574345d5-f739-4b0a-9675-fe6a07e4794c | Status: 200 | Time: 0.027s
2025-03-18 18:02:11,775 - kademia - INFO - Request started | ec5e6dcc-08b6-4e5d-9bb7-db2f2aa452e1 | PUT /api/v1/staff/qualifications/94b904c8-28e1-438e-b6cd-b1c9183a5900
2025-03-18 18:02:11,779 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:02:11,780 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:02:11,780 - sqlalchemy.engine.Engine - INFO - [cached since 385.9s ago] {'id_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900'), 'param_1': 1}
2025-03-18 18:02:11,783 - sqlalchemy.engine.Engine - INFO - UPDATE educator_qualifications SET description=%(description)s, last_modified_at=now() WHERE educator_qualifications.id = %(educator_qualifications_id)s::UUID
2025-03-18 18:02:11,783 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'description': 'Advanced Degree In Stuff', 'educator_qualifications_id': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900')}
2025-03-18 18:02:11,784 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:02:11,785 - sqlalchemy.engine.Engine - INFO - [cached since 385.9s ago] {'id_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900'), 'param_1': 1}
2025-03-18 18:02:11,788 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:02:11,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:02:11,794 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id, educator_qualifications.educator_id, educator_qualifications.name, educator_qualifications.description, educator_qualifications.created_by, educator_qualifications.last_modified_by, educator_qualifications.created_at, educator_qualifications.last_modified_at, educator_qualifications.is_archived, educator_qualifications.archived_at, educator_qualifications.archive_reason, educator_qualifications.archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.id = %(pk_1)s::UUID
2025-03-18 18:02:11,795 - sqlalchemy.engine.Engine - INFO - [cached since 323.9s ago] {'pk_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900')}
2025-03-18 18:02:11,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:02:11,802 - kademia - INFO - Request completed | ec5e6dcc-08b6-4e5d-9bb7-db2f2aa452e1 | Status: 200 | Time: 0.027s
2025-03-18 18:02:28,761 - kademia - INFO - Request started | 4831af64-d686-4375-b6c3-1be69ac6716f | POST /api/v1/staff/qualifications/
2025-03-18 18:02:28,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:02:28,763 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 18:02:28,763 - sqlalchemy.engine.Engine - INFO - [cached since 380.8s ago] {'id': UUID('e17e6721-c080-449c-a75a-1a34b465b538'), 'educator_id': UUID('aada455f-6f8d-481a-aa53-54ec96f793a4'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:02:28,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:02:28,772 - kademia - ERROR - Unhandled exception | 4831af64-d686-4375-b6c3-1be69ac6716f | Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('e17e6721-c080-449c-a75a-1a34b465b538'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a4'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 47, in create_qualification
    raise DuplicateQualificationError(#name is the only field with a unique constraint
app.core.errors.staff_organisation_errors.DuplicateQualificationError: Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('e17e6721-c080-449c-a75a-1a34b465b538'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a4'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:02:28,780 - kademia - WARNING - UniqueViolationError | 4831af64-d686-4375-b6c3-1be69ac6716f | Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('e17e6721-c080-449c-a75a-1a34b465b538'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a4'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:02:45,579 - kademia - INFO - Request started | f7cba5a6-872b-48e9-8740-f208fd435506 | POST /api/v1/staff/qualifications/
2025-03-18 18:02:45,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:02:45,584 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 18:02:45,584 - sqlalchemy.engine.Engine - INFO - [cached since 397.6s ago] {'id': UUID('edd9ac39-50e6-4d59-95d6-433dabbddfbb'), 'educator_id': UUID('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:02:45,586 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:02:45,587 - kademia - ERROR - Unhandled exception | f7cba5a6-872b-48e9-8740-f208fd435506 | Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('edd9ac39-50e6-4d59-95d6-433dabbddfbb'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 47, in create_qualification
    raise DuplicateQualificationError(#name is the only field with a unique constraint
app.core.errors.staff_organisation_errors.DuplicateQualificationError: Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('edd9ac39-50e6-4d59-95d6-433dabbddfbb'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:02:45,592 - kademia - WARNING - UniqueViolationError | f7cba5a6-872b-48e9-8740-f208fd435506 | Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('edd9ac39-50e6-4d59-95d6-433dabbddfbb'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:02:52,497 - kademia - INFO - Request started | 8935537d-4184-41c8-bc22-832f6f0b8ba3 | POST /api/v1/staff/qualifications/
2025-03-18 18:02:52,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:02:52,500 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 18:02:52,500 - sqlalchemy.engine.Engine - INFO - [cached since 404.5s ago] {'id': UUID('9aca4f12-8bd4-436c-8fed-49a5b0ca6c89'), 'educator_id': UUID('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'Master Of Science In Mathematics', 'description': 'Advanced Degree In Pure Mathgematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:02:52,502 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:02:52,503 - kademia - ERROR - Unhandled exception | 8935537d-4184-41c8-bc22-832f6f0b8ba3 | Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('9aca4f12-8bd4-436c-8fed-49a5b0ca6c89'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathgematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 47, in create_qualification
    raise DuplicateQualificationError(#name is the only field with a unique constraint
app.core.errors.staff_organisation_errors.DuplicateQualificationError: Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('9aca4f12-8bd4-436c-8fed-49a5b0ca6c89'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathgematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:02:52,509 - kademia - WARNING - UniqueViolationError | 8935537d-4184-41c8-bc22-832f6f0b8ba3 | Duplicate qualification creation attempted. Detail Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "educator_qualifications_name_key"
detail:  key (name)=(master of science in mathematics) already exists.

[sql: insert into educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(educator_id)s::uuid, %(name)s, %(description)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning educator_qualifications.created_at, educator_qualifications.last_modified_at]
[parameters: {'id': uuid('9aca4f12-8bd4-436c-8fed-49a5b0ca6c89'), 'educator_id': uuid('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'master of science in mathematics', 'description': 'advanced degree in pure mathgematics', 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:03:04,804 - kademia - INFO - Request started | d0b9afcd-ab14-4ed2-a7e4-68f2d79533d3 | POST /api/v1/staff/qualifications/
2025-03-18 18:03:04,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:03:04,807 - sqlalchemy.engine.Engine - INFO - INSERT INTO educator_qualifications (id, educator_id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(educator_id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING educator_qualifications.created_at, educator_qualifications.last_modified_at
2025-03-18 18:03:04,808 - sqlalchemy.engine.Engine - INFO - [cached since 416.8s ago] {'id': UUID('2dd4bbd3-7841-4f87-b149-4c9b6e421105'), 'educator_id': UUID('aada455f-6f8d-481a-aa53-54ec96f793a6'), 'name': 'Master Of Science In Mathemaergrgtics', 'description': 'Advanced Degredfgee In Pure Mathgematics', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:03:04,810 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:03:04,811 - kademia - ERROR - Unhandled exception | d0b9afcd-ab14-4ed2-a7e4-68f2d79533d3 | Related educator not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\qualifications.py", line 22, in create_qualification
    return qualifications_crud.create_qualification(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\educator_qualifications.py", line 30, in create_qualification
    qualification = self.factory.create_qualification(data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\qualification.py", line 51, in create_qualification
    raise RelatedEducatorNotFoundError(id=new_qualification.educator_id, detail=str(e), action='create')
app.core.errors.profile_errors.RelatedEducatorNotFoundError: Related educator not found!
2025-03-18 18:03:04,815 - kademia - WARNING - RelationshipError | d0b9afcd-ab14-4ed2-a7e4-68f2d79533d3 | Error during during fk insertion of Educator with id:aada455f-6f8d-481a-aa53-54ec96f793a6 during create operation. Detail Cannot create record because related Unknown does not exist
2025-03-18 18:03:17,599 - kademia - INFO - Request started | 2f167691-16c7-4026-b71a-1e1306e11e4a | DELETE /api/v1/staff/qualifications/94b904c8-28e1-438e-b6cd-b1c9183a5900
2025-03-18 18:03:17,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:03:17,601 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE educator_qualifications.is_archived = false AND educator_qualifications.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:03:17,602 - sqlalchemy.engine.Engine - INFO - [cached since 451.7s ago] {'id_1': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900'), 'param_1': 1}
2025-03-18 18:03:17,604 - sqlalchemy.engine.Engine - INFO - DELETE FROM educator_qualifications WHERE educator_qualifications.id = %(id)s::UUID
2025-03-18 18:03:17,604 - sqlalchemy.engine.Engine - INFO - [cached since 440.9s ago] {'id': UUID('94b904c8-28e1-438e-b6cd-b1c9183a5900')}
2025-03-18 18:03:17,605 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:03:17,609 - kademia - INFO - Request completed | 2f167691-16c7-4026-b71a-1e1306e11e4a | Status: 204 | Time: 0.011s
2025-03-18 18:11:43,254 - kademia - INFO - Request started | 8d2a140f-43e4-4832-9f49-0f5431079500 | POST /api/v1/staff/roles/
2025-03-18 18:11:43,257 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:11:43,259 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff_roles (id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff_roles.created_at, staff_roles.last_modified_at
2025-03-18 18:11:43,260 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {'id': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'name': 'Head Of Department', 'description': 'Manages Departmental Operations And Staff', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:11:43,266 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:11:43,270 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:11:43,273 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id, staff_roles.name, staff_roles.description, staff_roles.created_by, staff_roles.last_modified_by, staff_roles.created_at, staff_roles.last_modified_at, staff_roles.is_archived, staff_roles.archived_at, staff_roles.archive_reason, staff_roles.archived_by 
FROM staff_roles 
WHERE staff_roles.id = %(pk_1)s::UUID
2025-03-18 18:11:43,274 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {'pk_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}
2025-03-18 18:11:43,279 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:11:43,280 - kademia - INFO - Request completed | 8d2a140f-43e4-4832-9f49-0f5431079500 | Status: 201 | Time: 0.026s
2025-03-18 18:12:21,149 - kademia - INFO - Request started | 6897307b-9c1a-40b2-a3f9-03a822ef1208 | GET /api/v1/staff/roles/
2025-03-18 18:12:21,153 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:12:21,155 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.name ILIKE %(name_1)s ORDER BY staff_roles.name DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-03-18 18:12:21,156 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {'name_1': '%admin%', 'param_1': 50, 'param_2': 0}
2025-03-18 18:12:21,161 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:12:21,162 - kademia - INFO - Request completed | 6897307b-9c1a-40b2-a3f9-03a822ef1208 | Status: 200 | Time: 0.013s
2025-03-18 18:13:17,608 - kademia - INFO - Request started | d99d8984-2f86-4b6e-8442-b76ad6ecc07c | GET /api/v1/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:13:17,609 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:13:17,611 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:13:17,612 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:13:17,614 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:13:17,615 - kademia - INFO - Request completed | d99d8984-2f86-4b6e-8442-b76ad6ecc07c | Status: 200 | Time: 0.007s
2025-03-18 18:13:45,795 - kademia - INFO - Request started | d4523787-ef71-42a1-9a17-ad323b970a14 | PUT /api/v1/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:13:45,799 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:13:45,800 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:13:45,801 - sqlalchemy.engine.Engine - INFO - [cached since 28.19s ago] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:13:45,804 - sqlalchemy.engine.Engine - INFO - UPDATE staff_roles SET name=%(name)s, last_modified_at=now() WHERE staff_roles.id = %(staff_roles_id)s::UUID
2025-03-18 18:13:45,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] {'name': 'System Administrator', 'staff_roles_id': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}
2025-03-18 18:13:45,805 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:13:45,807 - kademia - ERROR - Unhandled exception | d4523787-ef71-42a1-9a17-ad323b970a14 | Duplicate role creation attempted: Unique constraint violation - Detail: (raised as a result of query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_roles_name_key"
detail:  key (name)=(system administrator) already exists.

[sql: update staff_roles set name=%(name)s, last_modified_at=now() where staff_roles.id = %(staff_roles_id)s::uuid]
[parameters: {'name': 'system administrator', 'staff_roles_id': uuid('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_roles.py", line 41, in update_role
    return roles_crud.update_role(role_id, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_roles.py", line 65, in update_role
    updated_role = self.factory.update_role(role_id, data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\role.py", line 89, in update_role
    raise DuplicateRoleError(
app.core.errors.staff_organisation_errors.DuplicateRoleError: Duplicate role creation attempted: Unique constraint violation - Detail: (raised as a result of query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_roles_name_key"
detail:  key (name)=(system administrator) already exists.

[sql: update staff_roles set name=%(name)s, last_modified_at=now() where staff_roles.id = %(staff_roles_id)s::uuid]
[parameters: {'name': 'system administrator', 'staff_roles_id': uuid('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:13:45,820 - kademia - WARNING - UniqueViolationError | d4523787-ef71-42a1-9a17-ad323b970a14 | Duplicate role creation attempted: Unique constraint violation - Detail: (raised as a result of query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_roles_name_key"
detail:  key (name)=(system administrator) already exists.

[sql: update staff_roles set name=%(name)s, last_modified_at=now() where staff_roles.id = %(staff_roles_id)s::uuid]
[parameters: {'name': 'system administrator', 'staff_roles_id': uuid('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:13:57,038 - kademia - INFO - Request started | 85e5540c-4586-4ae6-a47d-c36cfd5800df | PUT /api/v1/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:13:57,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:13:57,040 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:13:57,040 - sqlalchemy.engine.Engine - INFO - [cached since 39.43s ago] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:13:57,042 - sqlalchemy.engine.Engine - INFO - UPDATE staff_roles SET name=%(name)s, last_modified_at=now() WHERE staff_roles.id = %(staff_roles_id)s::UUID
2025-03-18 18:13:57,043 - sqlalchemy.engine.Engine - INFO - [cached since 11.24s ago] {'name': 'Systeht', 'staff_roles_id': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}
2025-03-18 18:13:57,044 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:13:57,045 - sqlalchemy.engine.Engine - INFO - [cached since 39.43s ago] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:13:57,046 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:13:57,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:13:57,053 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id, staff_roles.name, staff_roles.description, staff_roles.created_by, staff_roles.last_modified_by, staff_roles.created_at, staff_roles.last_modified_at, staff_roles.is_archived, staff_roles.archived_at, staff_roles.archive_reason, staff_roles.archived_by 
FROM staff_roles 
WHERE staff_roles.id = %(pk_1)s::UUID
2025-03-18 18:13:57,054 - sqlalchemy.engine.Engine - INFO - [cached since 133.8s ago] {'pk_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}
2025-03-18 18:13:57,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:13:57,057 - kademia - INFO - Request completed | 85e5540c-4586-4ae6-a47d-c36cfd5800df | Status: 200 | Time: 0.019s
2025-03-18 18:14:18,973 - kademia - INFO - Request started | 0627f048-9fcd-44ae-b347-b9efba42675a | PATCH /api/v1/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:14:18,975 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:14:18,976 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:14:18,976 - sqlalchemy.engine.Engine - INFO - [cached since 61.37s ago] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:14:18,978 - sqlalchemy.engine.Engine - INFO - UPDATE staff_roles SET last_modified_at=now(), is_archived=%(is_archived)s, archived_at=%(archived_at)s, archive_reason=%(archive_reason)s, archived_by=%(archived_by)s::UUID WHERE staff_roles.id = %(staff_roles_id)s::UUID
2025-03-18 18:14:18,979 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'is_archived': True, 'archived_at': datetime.datetime(2025, 3, 18, 18, 14, 18, 977984, tzinfo=datetime.timezone.utc), 'archive_reason': 'ERROR', 'archived_by': UUID('00000000-0000-0000-0000-000000000000'), 'staff_roles_id': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}
2025-03-18 18:14:18,980 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:14:18,983 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:14:18,983 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id, staff_roles.name, staff_roles.description, staff_roles.created_by, staff_roles.last_modified_by, staff_roles.created_at, staff_roles.last_modified_at, staff_roles.is_archived, staff_roles.archived_at, staff_roles.archive_reason, staff_roles.archived_by 
FROM staff_roles 
WHERE staff_roles.id = %(pk_1)s::UUID
2025-03-18 18:14:18,985 - sqlalchemy.engine.Engine - INFO - [cached since 155.7s ago] {'pk_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}
2025-03-18 18:14:18,987 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:14:18,990 - kademia - INFO - Request completed | 0627f048-9fcd-44ae-b347-b9efba42675a | Status: 204 | Time: 0.016s
2025-03-18 18:14:26,783 - kademia - INFO - Request started | 5c539d70-ab04-4b92-9b8c-da0dfaf5b45d | GET /api/v1/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:14:26,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:14:26,785 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:14:26,786 - sqlalchemy.engine.Engine - INFO - [cached since 69.18s ago] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:14:26,788 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:14:26,789 - kademia - ERROR - Unhandled exception | 5c539d70-ab04-4b92-9b8c-da0dfaf5b45d | Role not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_roles.py", line 34, in get_role
    return roles_crud.get_role(role_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_roles.py", line 41, in get_role
    role = self.factory.get_role(role_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\role.py", line 66, in get_role
    raise RoleNotFoundError(id=role_id, detail = str(e))
app.core.errors.staff_organisation_errors.RoleNotFoundError: Role not found!
2025-03-18 18:14:26,793 - kademia - WARNING - EntityNotFoundError | 5c539d70-ab04-4b92-9b8c-da0dfaf5b45d | Role with id:ffbcc739-c9c1-4eeb-b0e4-35136fb7815b not found. Detail: Record not found
2025-03-18 18:14:37,609 - kademia - INFO - Request started | ab2d0913-8e8f-49d0-9a5b-d851d797075d | DELETE /api/v1/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:14:37,611 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:14:37,612 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:14:37,613 - sqlalchemy.engine.Engine - INFO - [cached since 80s ago] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:14:37,614 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:14:37,615 - kademia - ERROR - Unhandled exception | ab2d0913-8e8f-49d0-9a5b-d851d797075d | Role not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_roles.py", line 54, in delete_role
    return roles_crud.delete_role(role_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_roles.py", line 85, in delete_role
    self.factory.delete_role(role_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\role.py", line 115, in delete_role
    raise RoleNotFoundError(id=role_id, detail = str(e))
app.core.errors.staff_organisation_errors.RoleNotFoundError: Role not found!
2025-03-18 18:14:37,620 - kademia - WARNING - EntityNotFoundError | ab2d0913-8e8f-49d0-9a5b-d851d797075d | Role with id:ffbcc739-c9c1-4eeb-b0e4-35136fb7815b not found. Detail: Record not found
2025-03-18 18:14:49,983 - kademia - INFO - Request started | 119b3f1d-a17d-4912-9b71-c87c5c7626ed | GET /api/v1/archive/staff/roles/
2025-03-18 18:14:49,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:14:49,986 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = true ORDER BY staff_roles.name DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-03-18 18:14:49,987 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] {'param_1': 50, 'param_2': 0}
2025-03-18 18:14:49,989 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:14:49,990 - kademia - INFO - Request completed | 119b3f1d-a17d-4912-9b71-c87c5c7626ed | Status: 200 | Time: 0.007s
2025-03-18 18:14:58,784 - kademia - INFO - Request started | 95c6019d-b790-4e39-9638-2d29b65b067f | GET /api/v1/archive/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:14:58,785 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:14:58,788 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = true AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:14:58,789 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:14:58,791 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:14:58,792 - kademia - INFO - Request completed | 95c6019d-b790-4e39-9638-2d29b65b067f | Status: 200 | Time: 0.008s
2025-03-18 18:15:18,870 - kademia - INFO - Request started | 79f59d73-bb01-45b7-8b53-d2e35bc821c7 | DELETE /api/v1/archive/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:15:18,872 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:15:18,872 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = true AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:15:18,873 - sqlalchemy.engine.Engine - INFO - [cached since 20.09s ago] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:15:18,880 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.role_id = %(param_1)s::UUID
2025-03-18 18:15:18,882 - sqlalchemy.engine.Engine - INFO - [generated in 0.00215s] {'param_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}
2025-03-18 18:15:18,889 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff_roles WHERE staff_roles.id = %(id)s::UUID
2025-03-18 18:15:18,889 - sqlalchemy.engine.Engine - INFO - [generated in 0.00127s] {'id': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b')}
2025-03-18 18:15:18,893 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:15:18,898 - kademia - INFO - Request completed | 79f59d73-bb01-45b7-8b53-d2e35bc821c7 | Status: 204 | Time: 0.028s
2025-03-18 18:15:28,946 - kademia - INFO - Request started | 4ec2425f-3a38-4a11-9663-d26c83facad0 | PATCH /api/v1/archive/staff/roles/ffbcc739-c9c1-4eeb-b0e4-35136fb7815b
2025-03-18 18:15:28,948 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:15:28,949 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = true AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:15:28,950 - sqlalchemy.engine.Engine - INFO - [cached since 30.16s ago] {'id_1': UUID('ffbcc739-c9c1-4eeb-b0e4-35136fb7815b'), 'param_1': 1}
2025-03-18 18:15:28,951 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:15:28,952 - kademia - ERROR - Unhandled exception | 4ec2425f-3a38-4a11-9663-d26c83facad0 | Role not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\archived_staff_roles.py", line 29, in restore_role
    return roles_crud.restore_role(role_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_roles.py", line 115, in restore_role
    role = self.factory.restore_role(role_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\role.py", line 150, in restore_role
    raise RoleNotFoundError(id=role_id, detail = str(e))
app.core.errors.staff_organisation_errors.RoleNotFoundError: Role not found!
2025-03-18 18:15:29,005 - kademia - WARNING - EntityNotFoundError | 4ec2425f-3a38-4a11-9663-d26c83facad0 | Role with id:ffbcc739-c9c1-4eeb-b0e4-35136fb7815b not found. Detail: Role not found!
2025-03-18 18:15:37,996 - kademia - INFO - Request started | 0fffdfaf-f0da-42de-a207-f80b6c5c8d95 | POST /api/v1/staff/roles/
2025-03-18 18:15:37,999 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:15:37,999 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff_roles (id, name, description, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff_roles.created_at, staff_roles.last_modified_at
2025-03-18 18:15:38,000 - sqlalchemy.engine.Engine - INFO - [cached since 234.7s ago] {'id': UUID('14f23e69-1797-43a9-b606-49435782ce3f'), 'name': 'Head Of Department', 'description': 'Manages Departmental Operations And Staff', 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:15:38,002 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:15:38,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:15:38,006 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id, staff_roles.name, staff_roles.description, staff_roles.created_by, staff_roles.last_modified_by, staff_roles.created_at, staff_roles.last_modified_at, staff_roles.is_archived, staff_roles.archived_at, staff_roles.archive_reason, staff_roles.archived_by 
FROM staff_roles 
WHERE staff_roles.id = %(pk_1)s::UUID
2025-03-18 18:15:38,007 - sqlalchemy.engine.Engine - INFO - [cached since 234.7s ago] {'pk_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f')}
2025-03-18 18:15:38,011 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:15:38,012 - kademia - INFO - Request completed | 0fffdfaf-f0da-42de-a207-f80b6c5c8d95 | Status: 201 | Time: 0.016s
2025-03-18 18:15:58,654 - kademia - INFO - Request started | db403ddb-9ec4-46a1-9b0d-cae45ea8c84f | PATCH /api/v1/staff/roles/14f23e69-1797-43a9-b606-49435782ce3f
2025-03-18 18:15:58,656 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:15:58,656 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:15:58,658 - sqlalchemy.engine.Engine - INFO - [cached since 161s ago] {'id_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f'), 'param_1': 1}
2025-03-18 18:15:58,660 - sqlalchemy.engine.Engine - INFO - UPDATE staff_roles SET last_modified_at=now(), is_archived=%(is_archived)s, archived_at=%(archived_at)s, archive_reason=%(archive_reason)s, archived_by=%(archived_by)s::UUID WHERE staff_roles.id = %(staff_roles_id)s::UUID
2025-03-18 18:15:58,661 - sqlalchemy.engine.Engine - INFO - [cached since 99.68s ago] {'is_archived': True, 'archived_at': datetime.datetime(2025, 3, 18, 18, 15, 58, 659345, tzinfo=datetime.timezone.utc), 'archive_reason': 'ERROR', 'archived_by': UUID('00000000-0000-0000-0000-000000000000'), 'staff_roles_id': UUID('14f23e69-1797-43a9-b606-49435782ce3f')}
2025-03-18 18:15:58,662 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:15:58,667 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:15:58,668 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id, staff_roles.name, staff_roles.description, staff_roles.created_by, staff_roles.last_modified_by, staff_roles.created_at, staff_roles.last_modified_at, staff_roles.is_archived, staff_roles.archived_at, staff_roles.archive_reason, staff_roles.archived_by 
FROM staff_roles 
WHERE staff_roles.id = %(pk_1)s::UUID
2025-03-18 18:15:58,669 - sqlalchemy.engine.Engine - INFO - [cached since 255.4s ago] {'pk_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f')}
2025-03-18 18:15:58,674 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:15:58,683 - kademia - INFO - Request completed | db403ddb-9ec4-46a1-9b0d-cae45ea8c84f | Status: 204 | Time: 0.029s
2025-03-18 18:16:17,142 - kademia - INFO - Request started | 0389a4c2-0fdb-43e8-9578-642684c68bd4 | GET /api/v1/staff/roles/14f23e69-1797-43a9-b606-49435782ce3f
2025-03-18 18:16:17,143 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:16:17,145 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:16:17,146 - sqlalchemy.engine.Engine - INFO - [cached since 179.5s ago] {'id_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f'), 'param_1': 1}
2025-03-18 18:16:17,148 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:16:17,149 - kademia - ERROR - Unhandled exception | 0389a4c2-0fdb-43e8-9578-642684c68bd4 | Role not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_roles.py", line 34, in get_role
    return roles_crud.get_role(role_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_roles.py", line 41, in get_role
    role = self.factory.get_role(role_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\role.py", line 66, in get_role
    raise RoleNotFoundError(id=role_id, detail = str(e))
app.core.errors.staff_organisation_errors.RoleNotFoundError: Role not found!
2025-03-18 18:16:17,154 - kademia - WARNING - EntityNotFoundError | 0389a4c2-0fdb-43e8-9578-642684c68bd4 | Role with id:14f23e69-1797-43a9-b606-49435782ce3f not found. Detail: Record not found
2025-03-18 18:16:41,895 - kademia - INFO - Request started | 2efea8fe-2e8d-41c7-877c-507ecdbf1200 | PATCH /api/v1/archive/staff/roles/14f23e69-1797-43a9-b606-49435782ce3f
2025-03-18 18:16:41,897 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:16:41,897 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = true AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:16:41,898 - sqlalchemy.engine.Engine - INFO - [cached since 103.1s ago] {'id_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f'), 'param_1': 1}
2025-03-18 18:16:41,901 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = true AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:16:41,901 - sqlalchemy.engine.Engine - INFO - [cached since 103.1s ago] {'id_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f'), 'param_1': 1}
2025-03-18 18:16:41,904 - sqlalchemy.engine.Engine - INFO - UPDATE staff_roles SET last_modified_at=now(), is_archived=%(is_archived)s WHERE staff_roles.id = %(staff_roles_id)s::UUID
2025-03-18 18:16:41,905 - sqlalchemy.engine.Engine - INFO - [generated in 0.00109s] {'is_archived': False, 'staff_roles_id': UUID('14f23e69-1797-43a9-b606-49435782ce3f')}
2025-03-18 18:16:41,907 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:16:41,912 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:16:41,915 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.id = %(pk_1)s::UUID
2025-03-18 18:16:41,951 - sqlalchemy.engine.Engine - INFO - [generated in 0.03509s] {'pk_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f')}
2025-03-18 18:16:41,955 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:16:41,956 - kademia - INFO - Request completed | 2efea8fe-2e8d-41c7-877c-507ecdbf1200 | Status: 200 | Time: 0.061s
2025-03-18 18:16:58,472 - kademia - INFO - Request started | e65e1115-de9a-4d4f-9a8b-453f62e70656 | DELETE /api/v1/staff/roles/14f23e69-1797-43a9-b606-49435782ce3f
2025-03-18 18:16:58,474 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:16:58,477 - sqlalchemy.engine.Engine - INFO - SELECT staff_roles.id AS staff_roles_id, staff_roles.name AS staff_roles_name, staff_roles.description AS staff_roles_description, staff_roles.created_by AS staff_roles_created_by, staff_roles.last_modified_by AS staff_roles_last_modified_by, staff_roles.created_at AS staff_roles_created_at, staff_roles.last_modified_at AS staff_roles_last_modified_at, staff_roles.is_archived AS staff_roles_is_archived, staff_roles.archived_at AS staff_roles_archived_at, staff_roles.archive_reason AS staff_roles_archive_reason, staff_roles.archived_by AS staff_roles_archived_by 
FROM staff_roles 
WHERE staff_roles.is_archived = false AND staff_roles.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:16:58,477 - sqlalchemy.engine.Engine - INFO - [cached since 220.9s ago] {'id_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f'), 'param_1': 1}
2025-03-18 18:16:58,480 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.role_id = %(param_1)s::UUID
2025-03-18 18:16:58,480 - sqlalchemy.engine.Engine - INFO - [cached since 99.6s ago] {'param_1': UUID('14f23e69-1797-43a9-b606-49435782ce3f')}
2025-03-18 18:16:58,482 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff_roles WHERE staff_roles.id = %(id)s::UUID
2025-03-18 18:16:58,483 - sqlalchemy.engine.Engine - INFO - [cached since 99.59s ago] {'id': UUID('14f23e69-1797-43a9-b606-49435782ce3f')}
2025-03-18 18:16:58,483 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:16:58,491 - kademia - INFO - Request completed | e65e1115-de9a-4d4f-9a8b-453f62e70656 | Status: 204 | Time: 0.018s
2025-03-18 18:17:22,831 - kademia - INFO - Request started | 95332a08-0073-4efc-afe9-768f65cf0e31 | POST /api/v1/staff/departments/
2025-03-18 18:17:22,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:17:22,836 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(manager_id)s::UUID, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff_departments.created_at, staff_departments.last_modified_at
2025-03-18 18:17:22,836 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {'id': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'name': 'Academic Affairs', 'description': 'Manages Academic Programs And Curriculum', 'manager_id': UUID('00000000-0000-0000-0000-000000000000'), 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:17:22,839 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:17:22,844 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:17:22,848 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id, staff_departments.name, staff_departments.description, staff_departments.manager_id, staff_departments.created_by, staff_departments.last_modified_by, staff_departments.created_at, staff_departments.last_modified_at, staff_departments.is_archived, staff_departments.archived_at, staff_departments.archive_reason, staff_departments.archived_by 
FROM staff_departments 
WHERE staff_departments.id = %(pk_1)s::UUID
2025-03-18 18:17:22,852 - sqlalchemy.engine.Engine - INFO - [generated in 0.00373s] {'pk_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:17:22,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:17:22,857 - kademia - INFO - Request completed | 95332a08-0073-4efc-afe9-768f65cf0e31 | Status: 201 | Time: 0.026s
2025-03-18 18:18:03,449 - kademia - INFO - Request started | 15820625-bc4a-46b8-8373-dc84e7ccf7dd | GET /api/v1/staff/departments/
2025-03-18 18:18:03,454 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:18:03,455 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false ORDER BY staff_departments.name DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-03-18 18:18:03,456 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] {'param_1': 50, 'param_2': 0}
2025-03-18 18:18:03,460 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:18:03,462 - kademia - INFO - Request completed | 15820625-bc4a-46b8-8373-dc84e7ccf7dd | Status: 200 | Time: 0.011s
2025-03-18 18:18:13,623 - kademia - INFO - Request started | 762dcf48-3e49-4d59-b3d1-abec4fd36d85 | GET /api/v1/staff/departments/3a11f92e-1dc3-4189-a467-e41656fa18c6
2025-03-18 18:18:13,625 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:18:13,628 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:18:13,628 - sqlalchemy.engine.Engine - INFO - [generated in 0.00089s] {'id_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'param_1': 1}
2025-03-18 18:18:13,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:18:13,631 - kademia - INFO - Request completed | 762dcf48-3e49-4d59-b3d1-abec4fd36d85 | Status: 200 | Time: 0.007s
2025-03-18 18:18:37,734 - kademia - INFO - Request started | d3d0ef42-2802-47f1-a0bc-48637d75b266 | PUT /api/v1/staff/departments/3a11f92e-1dc3-4189-a467-e41656fa18c6
2025-03-18 18:18:37,737 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:18:37,738 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:18:37,739 - sqlalchemy.engine.Engine - INFO - [cached since 24.11s ago] {'id_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'param_1': 1}
2025-03-18 18:18:37,742 - sqlalchemy.engine.Engine - INFO - UPDATE staff_departments SET name=%(name)s, last_modified_at=now() WHERE staff_departments.id = %(staff_departments_id)s::UUID
2025-03-18 18:18:37,743 - sqlalchemy.engine.Engine - INFO - [generated in 0.00090s] {'name': 'System Department', 'staff_departments_id': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:18:37,744 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:18:37,746 - kademia - ERROR - Unhandled exception | d3d0ef42-2802-47f1-a0bc-48637d75b266 | 'name'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 44, in update_staff_department
    return staff_departments_crud.update_department(department_id, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 63, in update_department
    updated_department = self.factory.update_staff_department(department_id, data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 104, in update_staff_department
    input_value=data['name'], detail=str(e), field = 'name'
                ~~~~^^^^^^^^
KeyError: 'name'
2025-03-18 18:18:37,754 - kademia - ERROR - Unhandled exception | d3d0ef42-2802-47f1-a0bc-48637d75b266 | 'name'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 44, in update_staff_department
    return staff_departments_crud.update_department(department_id, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 63, in update_department
    updated_department = self.factory.update_staff_department(department_id, data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 104, in update_staff_department
    input_value=data['name'], detail=str(e), field = 'name'
                ~~~~^^^^^^^^
KeyError: 'name'
2025-03-18 18:34:31,009 - kademia - INFO - Application started
2025-03-18 18:35:06,579 - kademia - INFO - Application started
2025-03-18 18:35:26,096 - kademia - INFO - Request started | 41515be2-eda6-477c-b1cd-53fef8b96141 | GET /docs
2025-03-18 18:35:26,097 - kademia - INFO - Request completed | 41515be2-eda6-477c-b1cd-53fef8b96141 | Status: 200 | Time: 0.000s
2025-03-18 18:35:26,282 - kademia - INFO - Request started | 45325d9a-a136-42d6-b987-b2f68e4c42b2 | GET /openapi.json
2025-03-18 18:35:26,388 - kademia - INFO - Request completed | 45325d9a-a136-42d6-b987-b2f68e4c42b2 | Status: 200 | Time: 0.105s
2025-03-18 18:36:00,202 - kademia - INFO - Request started | 62966e12-7ec1-49b5-ad60-7f26a11a16bb | PUT /api/v1/staff/departments/3a11f92e-1dc3-4189-a467-e41656fa18c6
2025-03-18 18:36:00,535 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 18:36:00,536 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 18:36:00,537 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 18:36:00,537 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 18:36:00,538 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 18:36:00,538 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 18:36:00,539 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:36:00,543 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:36:00,544 - sqlalchemy.engine.Engine - INFO - [generated in 0.00094s] {'id_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'param_1': 1}
2025-03-18 18:36:00,550 - sqlalchemy.engine.Engine - INFO - UPDATE staff_departments SET name=%(name)s, last_modified_at=now() WHERE staff_departments.id = %(staff_departments_id)s::UUID
2025-03-18 18:36:00,551 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'name': 'System Department', 'staff_departments_id': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:36:00,553 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:36:00,554 - kademia - ERROR - Unhandled exception | 62966e12-7ec1-49b5-ad60-7f26a11a16bb | Duplicate department creation attempted: Unique constraint violation - Detail: (raised as a result of query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(system department) already exists.

[sql: update staff_departments set name=%(name)s, last_modified_at=now() where staff_departments.id = %(staff_departments_id)s::uuid]
[parameters: {'name': 'system department', 'staff_departments_id': uuid('3a11f92e-1dc3-4189-a467-e41656fa18c6')}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 44, in update_staff_department
    return staff_departments_crud.update_department(department_id, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 63, in update_department
    updated_department = self.factory.update_staff_department(department_id, data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 104, in update_staff_department
    raise DuplicateDepartmentError(#name is the only field with a unique constraint
app.core.errors.staff_organisation_errors.DuplicateDepartmentError: Duplicate department creation attempted: Unique constraint violation - Detail: (raised as a result of query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(system department) already exists.

[sql: update staff_departments set name=%(name)s, last_modified_at=now() where staff_departments.id = %(staff_departments_id)s::uuid]
[parameters: {'name': 'system department', 'staff_departments_id': uuid('3a11f92e-1dc3-4189-a467-e41656fa18c6')}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:36:00,565 - kademia - WARNING - UniqueViolationError | 62966e12-7ec1-49b5-ad60-7f26a11a16bb | Duplicate department creation attempted: Unique constraint violation - Detail: (raised as a result of query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(system department) already exists.

[sql: update staff_departments set name=%(name)s, last_modified_at=now() where staff_departments.id = %(staff_departments_id)s::uuid]
[parameters: {'name': 'system department', 'staff_departments_id': uuid('3a11f92e-1dc3-4189-a467-e41656fa18c6')}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:37:38,759 - kademia - INFO - Request started | 43d66d64-5965-4ed7-b870-1445afaa9d2c | PUT /api/v1/staff/departments/3a11f92e-1dc3-4189-a467-e41656fa18c6
2025-03-18 18:37:38,765 - kademia - INFO - Request completed | 43d66d64-5965-4ed7-b870-1445afaa9d2c | Status: 422 | Time: 0.006s
2025-03-18 18:37:57,347 - kademia - INFO - Request started | 06583514-e593-435d-94c5-32e5e7566718 | POST /api/v1/staff/departments/
2025-03-18 18:37:57,352 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:37:57,353 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(manager_id)s::UUID, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff_departments.created_at, staff_departments.last_modified_at
2025-03-18 18:37:57,354 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] {'id': UUID('2220fba2-463c-47b0-ba34-de2b52e5353a'), 'name': 'Academic Affairs', 'description': 'Manages Academic Programs And Curriculum', 'manager_id': UUID('00000000-0000-0000-0000-000000000034'), 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:37:57,356 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:37:57,359 - kademia - ERROR - Unhandled exception | 06583514-e593-435d-94c5-32e5e7566718 | Duplicate department creation attempted: Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(academic affairs) already exists.

[sql: insert into staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(name)s, %(description)s, %(manager_id)s::uuid, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff_departments.created_at, staff_departments.last_modified_at]
[parameters: {'id': uuid('2220fba2-463c-47b0-ba34-de2b52e5353a'), 'name': 'academic affairs', 'description': 'manages academic programs and curriculum', 'manager_id': uuid('00000000-0000-0000-0000-000000000034'), 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 22, in create_staff_department
    return staff_departments_crud.create_department(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 30, in create_department
    department = self.factory.create_staff_department(data)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 41, in create_staff_department
    raise DuplicateDepartmentError(
app.core.errors.staff_organisation_errors.DuplicateDepartmentError: Duplicate department creation attempted: Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(academic affairs) already exists.

[sql: insert into staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(name)s, %(description)s, %(manager_id)s::uuid, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff_departments.created_at, staff_departments.last_modified_at]
[parameters: {'id': uuid('2220fba2-463c-47b0-ba34-de2b52e5353a'), 'name': 'academic affairs', 'description': 'manages academic programs and curriculum', 'manager_id': uuid('00000000-0000-0000-0000-000000000034'), 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:37:57,376 - kademia - WARNING - UniqueViolationError | 06583514-e593-435d-94c5-32e5e7566718 | Duplicate department creation attempted: Unique constraint violation - Detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_departments_name_key"
detail:  key (name)=(academic affairs) already exists.

[sql: insert into staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(id)s::uuid, %(name)s, %(description)s, %(manager_id)s::uuid, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff_departments.created_at, staff_departments.last_modified_at]
[parameters: {'id': uuid('2220fba2-463c-47b0-ba34-de2b52e5353a'), 'name': 'academic affairs', 'description': 'manages academic programs and curriculum', 'manager_id': uuid('00000000-0000-0000-0000-000000000034'), 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-18 18:38:07,638 - kademia - INFO - Request started | 64b174d7-de2c-41a6-bed4-59e981664131 | POST /api/v1/staff/departments/
2025-03-18 18:38:07,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:38:07,642 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff_departments (id, name, description, manager_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(manager_id)s::UUID, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff_departments.created_at, staff_departments.last_modified_at
2025-03-18 18:38:07,643 - sqlalchemy.engine.Engine - INFO - [cached since 10.29s ago] {'id': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c'), 'name': 'Academic Affqeairs', 'description': 'Manages Academic Programs And Curriculum', 'manager_id': UUID('00000000-0000-0000-0000-000000000034'), 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-18 18:38:07,645 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:38:07,650 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:38:07,652 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id, staff_departments.name, staff_departments.description, staff_departments.manager_id, staff_departments.created_by, staff_departments.last_modified_by, staff_departments.created_at, staff_departments.last_modified_at, staff_departments.is_archived, staff_departments.archived_at, staff_departments.archive_reason, staff_departments.archived_by 
FROM staff_departments 
WHERE staff_departments.id = %(pk_1)s::UUID
2025-03-18 18:38:07,652 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] {'pk_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c')}
2025-03-18 18:38:07,657 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:38:07,659 - kademia - INFO - Request completed | 64b174d7-de2c-41a6-bed4-59e981664131 | Status: 201 | Time: 0.021s
2025-03-18 18:39:03,186 - kademia - INFO - Application started
2025-03-18 18:42:43,826 - kademia - INFO - Application started
2025-03-18 18:47:41,800 - kademia - INFO - Request started | 0c3cdeb0-5093-4df8-a732-efca7b5684da | PATCH /api/v1/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:47:42,044 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-18 18:47:42,044 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 18:47:42,045 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-18 18:47:42,045 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 18:47:42,046 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-18 18:47:42,046 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-18 18:47:42,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:47:42,053 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:47:42,054 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] {'id_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c'), 'param_1': 1}
2025-03-18 18:47:42,059 - sqlalchemy.engine.Engine - INFO - UPDATE staff_departments SET last_modified_at=now(), is_archived=%(is_archived)s, archived_at=%(archived_at)s, archive_reason=%(archive_reason)s, archived_by=%(archived_by)s::UUID WHERE staff_departments.id = %(staff_departments_id)s::UUID
2025-03-18 18:47:42,060 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'is_archived': True, 'archived_at': datetime.datetime(2025, 3, 18, 18, 47, 42, 58158, tzinfo=datetime.timezone.utc), 'archive_reason': 'ERROR', 'archived_by': UUID('00000000-0000-0000-0000-000000000000'), 'staff_departments_id': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c')}
2025-03-18 18:47:42,061 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:47:42,067 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:47:42,068 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id, staff_departments.name, staff_departments.description, staff_departments.manager_id, staff_departments.created_by, staff_departments.last_modified_by, staff_departments.created_at, staff_departments.last_modified_at, staff_departments.is_archived, staff_departments.archived_at, staff_departments.archive_reason, staff_departments.archived_by 
FROM staff_departments 
WHERE staff_departments.id = %(pk_1)s::UUID
2025-03-18 18:47:42,068 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] {'pk_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c')}
2025-03-18 18:47:42,071 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:47:42,072 - kademia - INFO - Request completed | 0c3cdeb0-5093-4df8-a732-efca7b5684da | Status: 204 | Time: 0.272s
2025-03-18 18:48:01,207 - kademia - INFO - Request started | a7646453-9f58-4e1a-83b8-86522be08ece | GET /api/v1/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:48:01,210 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:48:01,211 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:48:01,212 - sqlalchemy.engine.Engine - INFO - [cached since 19.16s ago] {'id_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c'), 'param_1': 1}
2025-03-18 18:48:01,213 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:48:01,214 - kademia - ERROR - Unhandled exception | a7646453-9f58-4e1a-83b8-86522be08ece | Department not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 36, in get_staff_department
    return staff_departments_crud.get_department(department_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 41, in get_department
    department = self.factory.get_staff_department(department_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 68, in get_staff_department
    raise DepartmentNotFoundError(id=department_id, detail = str(e))
app.core.errors.staff_organisation_errors.DepartmentNotFoundError: Department not found!
2025-03-18 18:48:01,226 - kademia - WARNING - EntityNotFoundError | a7646453-9f58-4e1a-83b8-86522be08ece | Department with id:ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c not found. Detail: Record not found
2025-03-18 18:48:12,410 - kademia - INFO - Request started | 5bcca283-ba45-4875-be32-92bafc1d14c2 | PUT /api/v1/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:48:12,414 - kademia - INFO - Request completed | 5bcca283-ba45-4875-be32-92bafc1d14c2 | Status: 422 | Time: 0.004s
2025-03-18 18:48:14,051 - kademia - INFO - Request started | cd66a67e-c201-4c3d-892d-b72550809a25 | PUT /api/v1/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:48:14,053 - kademia - INFO - Request completed | cd66a67e-c201-4c3d-892d-b72550809a25 | Status: 422 | Time: 0.002s
2025-03-18 18:48:23,642 - kademia - INFO - Request started | e7c8ba32-c62d-4f31-bb11-621020ae960a | PUT /api/v1/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:48:23,644 - kademia - INFO - Request completed | e7c8ba32-c62d-4f31-bb11-621020ae960a | Status: 422 | Time: 0.001s
2025-03-18 18:48:39,099 - kademia - INFO - Request started | 5c3e6c11-539c-4d8e-8b91-cc6990f0bdd9 | PUT /api/v1/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:48:39,101 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:48:39,102 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:48:39,103 - sqlalchemy.engine.Engine - INFO - [cached since 57.05s ago] {'id_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c'), 'param_1': 1}
2025-03-18 18:48:39,104 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:48:39,105 - kademia - ERROR - Unhandled exception | 5c3e6c11-539c-4d8e-8b91-cc6990f0bdd9 | Department not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 44, in update_staff_department
    return staff_departments_crud.update_department(department_id, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 63, in update_department
    updated_department = self.factory.update_staff_department(department_id, data)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 102, in update_staff_department
    raise DepartmentNotFoundError(id=department_id, detail = str(e))
app.core.errors.staff_organisation_errors.DepartmentNotFoundError: Department not found!
2025-03-18 18:48:39,110 - kademia - WARNING - EntityNotFoundError | 5c3e6c11-539c-4d8e-8b91-cc6990f0bdd9 | Department with id:ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c not found. Detail: Department not found!
2025-03-18 18:48:50,843 - kademia - INFO - Request started | 840f3e08-e233-427b-8fe9-58d8b0005db6 | PATCH /api/v1/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:48:50,844 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:48:50,845 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:48:50,846 - sqlalchemy.engine.Engine - INFO - [cached since 68.79s ago] {'id_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c'), 'param_1': 1}
2025-03-18 18:48:50,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:48:50,849 - kademia - ERROR - Unhandled exception | 840f3e08-e233-427b-8fe9-58d8b0005db6 | Department not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 51, in archive_department
    return staff_departments_crud.archive_department(department_id, reason.reason)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 74, in archive_department
    self.factory.archive_department(department_id, reason)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 132, in archive_department
    raise DepartmentNotFoundError(id=department_id, detail = str(e))
app.core.errors.staff_organisation_errors.DepartmentNotFoundError: Department not found!
2025-03-18 18:48:50,854 - kademia - WARNING - EntityNotFoundError | 840f3e08-e233-427b-8fe9-58d8b0005db6 | Department with id:ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c not found. Detail: Record not found
2025-03-18 18:49:21,086 - kademia - INFO - Request started | 45269ead-4764-4388-a6b4-7cca1ac0c0c7 | GET /api/v1/archive/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:49:21,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:49:21,089 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = true AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:49:21,090 - sqlalchemy.engine.Engine - INFO - [generated in 0.00092s] {'id_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c'), 'param_1': 1}
2025-03-18 18:49:21,093 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:49:21,094 - kademia - INFO - Request completed | 45269ead-4764-4388-a6b4-7cca1ac0c0c7 | Status: 200 | Time: 0.008s
2025-03-18 18:49:30,289 - kademia - INFO - Request started | 8a3e7636-be56-435e-8f87-727f9b02ed93 | GET /api/v1/archive/staff/departments/
2025-03-18 18:49:30,296 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:49:30,298 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = true ORDER BY staff_departments.name DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-03-18 18:49:30,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.00114s] {'param_1': 50, 'param_2': 0}
2025-03-18 18:49:30,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:49:30,304 - kademia - INFO - Request completed | 8a3e7636-be56-435e-8f87-727f9b02ed93 | Status: 200 | Time: 0.015s
2025-03-18 18:49:43,176 - kademia - INFO - Request started | b85dc4e0-27da-451b-b792-6ed437d5b066 | DELETE /api/v1/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:49:43,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:49:43,179 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:49:43,180 - sqlalchemy.engine.Engine - INFO - [cached since 121.1s ago] {'id_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c'), 'param_1': 1}
2025-03-18 18:49:43,181 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:49:43,182 - kademia - ERROR - Unhandled exception | b85dc4e0-27da-451b-b792-6ed437d5b066 | Department not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\staff_departments.py", line 57, in delete_department
    return staff_departments_crud.delete_department(department_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 82, in delete_department
    self.factory.delete_department(department_id)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 143, in delete_department
    raise DepartmentNotFoundError(id=department_id, detail = str(e))
app.core.errors.staff_organisation_errors.DepartmentNotFoundError: Department not found!
2025-03-18 18:49:43,188 - kademia - WARNING - EntityNotFoundError | b85dc4e0-27da-451b-b792-6ed437d5b066 | Department with id:ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c not found. Detail: Record not found
2025-03-18 18:49:58,769 - kademia - INFO - Request started | 6ebb1ac4-38b4-4eb1-9c69-622c842d6180 | DELETE /api/v1/archive/staff/departments/ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c
2025-03-18 18:49:58,771 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:49:58,771 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = true AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:49:58,772 - sqlalchemy.engine.Engine - INFO - [cached since 37.68s ago] {'id_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c'), 'param_1': 1}
2025-03-18 18:49:58,778 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.department_id = %(param_1)s::UUID
2025-03-18 18:49:58,779 - sqlalchemy.engine.Engine - INFO - [generated in 0.00102s] {'param_1': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c')}
2025-03-18 18:49:58,790 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff_departments WHERE staff_departments.id = %(id)s::UUID
2025-03-18 18:49:58,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'id': UUID('ca9c00ce-b4d3-4a64-8c76-7c6dcb32189c')}
2025-03-18 18:49:58,792 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:49:58,798 - kademia - INFO - Request completed | 6ebb1ac4-38b4-4eb1-9c69-622c842d6180 | Status: 204 | Time: 0.029s
2025-03-18 18:50:20,671 - kademia - INFO - Request started | d84d3721-b7af-4876-b365-5631acf0b8b5 | PATCH /api/v1/staff/departments/3a11f92e-1dc3-4189-a467-e41656fa18c6
2025-03-18 18:50:20,673 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:50:20,675 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:50:20,676 - sqlalchemy.engine.Engine - INFO - [cached since 158.6s ago] {'id_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'param_1': 1}
2025-03-18 18:50:20,677 - sqlalchemy.engine.Engine - INFO - UPDATE staff_departments SET last_modified_at=now(), is_archived=%(is_archived)s, archived_at=%(archived_at)s, archive_reason=%(archive_reason)s, archived_by=%(archived_by)s::UUID WHERE staff_departments.id = %(staff_departments_id)s::UUID
2025-03-18 18:50:20,678 - sqlalchemy.engine.Engine - INFO - [cached since 158.6s ago] {'is_archived': True, 'archived_at': datetime.datetime(2025, 3, 18, 18, 50, 20, 677074, tzinfo=datetime.timezone.utc), 'archive_reason': 'ERROR', 'archived_by': UUID('00000000-0000-0000-0000-000000000000'), 'staff_departments_id': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:50:20,680 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:50:20,682 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:50:20,682 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id, staff_departments.name, staff_departments.description, staff_departments.manager_id, staff_departments.created_by, staff_departments.last_modified_by, staff_departments.created_at, staff_departments.last_modified_at, staff_departments.is_archived, staff_departments.archived_at, staff_departments.archive_reason, staff_departments.archived_by 
FROM staff_departments 
WHERE staff_departments.id = %(pk_1)s::UUID
2025-03-18 18:50:20,683 - sqlalchemy.engine.Engine - INFO - [cached since 158.6s ago] {'pk_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:50:20,685 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:50:20,686 - kademia - INFO - Request completed | d84d3721-b7af-4876-b365-5631acf0b8b5 | Status: 204 | Time: 0.013s
2025-03-18 18:50:37,892 - kademia - INFO - Request started | 1a072508-56d2-4647-a12d-c03431f53687 | PATCH /api/v1/archive/staff/departments/3a11f92e-1dc3-4189-a467-e41656fa18c6
2025-03-18 18:50:37,893 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:50:37,894 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = true AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:50:37,894 - sqlalchemy.engine.Engine - INFO - [cached since 76.81s ago] {'id_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'param_1': 1}
2025-03-18 18:50:37,897 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = true AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:50:37,898 - sqlalchemy.engine.Engine - INFO - [cached since 76.81s ago] {'id_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'param_1': 1}
2025-03-18 18:50:37,899 - sqlalchemy.engine.Engine - INFO - UPDATE staff_departments SET last_modified_at=now(), is_archived=%(is_archived)s WHERE staff_departments.id = %(staff_departments_id)s::UUID
2025-03-18 18:50:37,900 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'is_archived': False, 'staff_departments_id': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:50:37,901 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:50:37,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:50:37,908 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.id = %(pk_1)s::UUID
2025-03-18 18:50:37,909 - sqlalchemy.engine.Engine - INFO - [generated in 0.00113s] {'pk_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:50:37,913 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:50:37,918 - kademia - INFO - Request completed | 1a072508-56d2-4647-a12d-c03431f53687 | Status: 200 | Time: 0.026s
2025-03-18 18:50:49,465 - kademia - INFO - Request started | 66b3609b-1ea1-4b37-bc51-81a88047ac51 | GET /api/v1/archive/staff/departments/3a11f92e-1dc3-4189-a467-e41656fa18c6
2025-03-18 18:50:49,466 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:50:49,467 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = true AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:50:49,468 - sqlalchemy.engine.Engine - INFO - [cached since 88.38s ago] {'id_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'param_1': 1}
2025-03-18 18:50:49,469 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-18 18:50:49,470 - kademia - ERROR - Unhandled exception | 66b3609b-1ea1-4b37-bc51-81a88047ac51 | Department not found!
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 81, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\staff_organization\archived_staff_departments.py", line 24, in get_archived_staff_department
    return staff_departments_crud.get_archived_department(department_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\staff_organization\staff_departments.py", line 94, in get_archived_department
    department = self.factory.get_archived_department(department_id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\staff_organization\department.py", line 165, in get_archived_department
    raise DepartmentNotFoundError(id=department_id, detail = str(e))
app.core.errors.staff_organisation_errors.DepartmentNotFoundError: Department not found!
2025-03-18 18:50:49,480 - kademia - WARNING - EntityNotFoundError | 66b3609b-1ea1-4b37-bc51-81a88047ac51 | Department with id:3a11f92e-1dc3-4189-a467-e41656fa18c6 not found. Detail: Record not found
2025-03-18 18:50:55,982 - kademia - INFO - Request started | eda778cf-12b2-4a0e-ac7f-7192c0a41bbf | DELETE /api/v1/staff/departments/3a11f92e-1dc3-4189-a467-e41656fa18c6
2025-03-18 18:50:55,984 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-18 18:50:55,984 - sqlalchemy.engine.Engine - INFO - SELECT staff_departments.id AS staff_departments_id, staff_departments.name AS staff_departments_name, staff_departments.description AS staff_departments_description, staff_departments.manager_id AS staff_departments_manager_id, staff_departments.created_by AS staff_departments_created_by, staff_departments.last_modified_by AS staff_departments_last_modified_by, staff_departments.created_at AS staff_departments_created_at, staff_departments.last_modified_at AS staff_departments_last_modified_at, staff_departments.is_archived AS staff_departments_is_archived, staff_departments.archived_at AS staff_departments_archived_at, staff_departments.archive_reason AS staff_departments_archive_reason, staff_departments.archived_by AS staff_departments_archived_by 
FROM staff_departments 
WHERE staff_departments.is_archived = false AND staff_departments.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-18 18:50:55,985 - sqlalchemy.engine.Engine - INFO - [cached since 193.9s ago] {'id_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6'), 'param_1': 1}
2025-03-18 18:50:55,987 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.department_id = %(param_1)s::UUID
2025-03-18 18:50:55,988 - sqlalchemy.engine.Engine - INFO - [cached since 57.21s ago] {'param_1': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:50:55,989 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff_departments WHERE staff_departments.id = %(id)s::UUID
2025-03-18 18:50:55,990 - sqlalchemy.engine.Engine - INFO - [cached since 57.2s ago] {'id': UUID('3a11f92e-1dc3-4189-a467-e41656fa18c6')}
2025-03-18 18:50:55,991 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-18 18:50:55,996 - kademia - INFO - Request completed | eda778cf-12b2-4a0e-ac7f-7192c0a41bbf | Status: 204 | Time: 0.014s
2025-03-18 19:27:12,137 - kademia - INFO - Application started
2025-03-18 19:27:52,709 - kademia - INFO - Application started
2025-03-18 19:28:01,672 - kademia - INFO - Application started
2025-03-18 20:18:21,606 - kademia - INFO - Application started
2025-03-19 00:41:24,717 - kademia - INFO - Request started | e1aba286-0d4e-4eca-a666-7ecea90ae004 | GET /docs
2025-03-19 00:41:24,729 - kademia - INFO - Request completed | e1aba286-0d4e-4eca-a666-7ecea90ae004 | Status: 200 | Time: 0.008s
2025-03-19 00:41:25,316 - kademia - INFO - Request started | 6c3c7322-9f99-42c7-8634-a391837f7c1f | GET /openapi.json
2025-03-19 00:41:25,575 - kademia - INFO - Request completed | 6c3c7322-9f99-42c7-8634-a391837f7c1f | Status: 200 | Time: 0.258s
2025-03-19 00:42:04,930 - kademia - INFO - Request started | 88943b5b-d92e-4da3-8abe-b9ae8ae854e2 | POST /api/v1/students/departments/
2025-03-19 00:42:05,446 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-19 00:42:05,447 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-19 00:42:05,450 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-19 00:42:05,451 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-19 00:42:05,453 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-19 00:42:05,453 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-19 00:42:05,455 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-19 00:42:05,464 - sqlalchemy.engine.Engine - INFO - INSERT INTO student_departments (id, name, description, mentor_id, student_rep_id, assistant_rep_id, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(id)s::UUID, %(name)s, %(description)s, %(mentor_id)s::UUID, %(student_rep_id)s::UUID, %(assistant_rep_id)s::UUID, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING student_departments.created_at, student_departments.last_modified_at
2025-03-19 00:42:05,465 - sqlalchemy.engine.Engine - INFO - [generated in 0.00121s] {'id': UUID('4f9a41d7-391e-444b-9ebe-fac76d49b550'), 'name': 'Science', 'description': 'Science Classes', 'mentor_id': None, 'student_rep_id': None, 'assistant_rep_id': None, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-19 00:42:05,485 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-19 00:42:05,489 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-19 00:42:05,496 - sqlalchemy.engine.Engine - INFO - SELECT student_departments.id, student_departments.name, student_departments.description, student_departments.mentor_id, student_departments.student_rep_id, student_departments.assistant_rep_id, student_departments.created_by, student_departments.last_modified_by, student_departments.created_at, student_departments.last_modified_at, student_departments.is_archived, student_departments.archived_at, student_departments.archive_reason, student_departments.archived_by 
FROM student_departments 
WHERE student_departments.id = %(pk_1)s::UUID
2025-03-19 00:42:05,497 - sqlalchemy.engine.Engine - INFO - [generated in 0.00122s] {'pk_1': UUID('4f9a41d7-391e-444b-9ebe-fac76d49b550')}
2025-03-19 00:42:05,503 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-19 00:42:05,505 - kademia - INFO - Request completed | 88943b5b-d92e-4da3-8abe-b9ae8ae854e2 | Status: 201 | Time: 0.573s
2025-03-19 00:42:14,715 - kademia - INFO - Request started | 7174153f-fadf-4b05-b984-99e020dae768 | GET /api/v1/students/departments/
2025-03-19 00:42:14,719 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-19 00:42:14,723 - sqlalchemy.engine.Engine - INFO - SELECT student_departments.id AS student_departments_id, student_departments.name AS student_departments_name, student_departments.description AS student_departments_description, student_departments.mentor_id AS student_departments_mentor_id, student_departments.student_rep_id AS student_departments_student_rep_id, student_departments.assistant_rep_id AS student_departments_assistant_rep_id, student_departments.created_by AS student_departments_created_by, student_departments.last_modified_by AS student_departments_last_modified_by, student_departments.created_at AS student_departments_created_at, student_departments.last_modified_at AS student_departments_last_modified_at, student_departments.is_archived AS student_departments_is_archived, student_departments.archived_at AS student_departments_archived_at, student_departments.archive_reason AS student_departments_archive_reason, student_departments.archived_by AS student_departments_archived_by 
FROM student_departments 
WHERE student_departments.is_archived = false ORDER BY student_departments.name DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-03-19 00:42:14,724 - sqlalchemy.engine.Engine - INFO - [generated in 0.00140s] {'param_1': 50, 'param_2': 0}
2025-03-19 00:42:14,728 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-19 00:42:14,731 - kademia - INFO - Request completed | 7174153f-fadf-4b05-b984-99e020dae768 | Status: 200 | Time: 0.015s
