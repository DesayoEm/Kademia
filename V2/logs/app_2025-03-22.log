2025-03-22 08:40:33,467 - kademia - INFO - Application started
2025-03-22 08:40:42,269 - kademia - INFO - Request started | 89172883-5eb5-4ff6-b46d-a06338afaa0f | GET /
2025-03-22 08:40:42,270 - kademia - INFO - Request completed | 89172883-5eb5-4ff6-b46d-a06338afaa0f | Status: 200 | Time: 0.001s
2025-03-22 08:40:42,471 - kademia - INFO - Request started | b8786a66-97f4-4f70-aeb7-f07539a2f187 | GET /favicon.ico
2025-03-22 08:40:42,472 - kademia - INFO - Request completed | b8786a66-97f4-4f70-aeb7-f07539a2f187 | Status: 404 | Time: 0.001s
2025-03-22 08:40:51,409 - kademia - INFO - Request started | 48712ce9-244a-4475-b379-4e7637d9ddb2 | GET /docs
2025-03-22 08:40:51,414 - kademia - INFO - Request completed | 48712ce9-244a-4475-b379-4e7637d9ddb2 | Status: 200 | Time: 0.001s
2025-03-22 08:40:51,858 - kademia - INFO - Request started | 9af1acc4-39e5-4de2-b7f0-10bd03351313 | GET /openapi.json
2025-03-22 08:40:51,973 - kademia - INFO - Request completed | 9af1acc4-39e5-4de2-b7f0-10bd03351313 | Status: 200 | Time: 0.114s
2025-03-22 19:06:00,744 - kademia - INFO - Application started
2025-03-22 19:06:04,382 - kademia - INFO - Request started | 639b07f7-c864-4000-a664-0b69a987613f | GET /docs
2025-03-22 19:06:04,384 - kademia - INFO - Request completed | 639b07f7-c864-4000-a664-0b69a987613f | Status: 200 | Time: 0.002s
2025-03-22 19:06:04,778 - kademia - INFO - Request started | fd748088-2b2e-4a25-b715-30f4a54f8794 | GET /openapi.json
2025-03-22 19:06:05,018 - kademia - INFO - Request completed | fd748088-2b2e-4a25-b715-30f4a54f8794 | Status: 200 | Time: 0.238s
2025-03-22 19:09:40,078 - kademia - INFO - Application started
2025-03-22 19:09:46,482 - kademia - INFO - Request started | a2aa9595-72b1-4033-8979-5c836c3290a8 | GET /docs
2025-03-22 19:09:46,484 - kademia - INFO - Request completed | a2aa9595-72b1-4033-8979-5c836c3290a8 | Status: 200 | Time: 0.002s
2025-03-22 19:09:46,673 - kademia - INFO - Request started | 8f2e07b0-6ef1-4ef2-9047-daf5f7871202 | GET /openapi.json
2025-03-22 19:09:46,931 - kademia - INFO - Request completed | 8f2e07b0-6ef1-4ef2-9047-daf5f7871202 | Status: 200 | Time: 0.257s
2025-03-22 19:10:05,798 - kademia - INFO - Request started | 16821224-d31a-4028-bf05-1c02b380b6dc | POST /api/v1/admin/staff/
2025-03-22 19:10:06,230 - kademia - ERROR - Unhandled exception | 16821224-d31a-4028-bf05-1c02b380b6dc | 'StaffCreate' object has no attribute 'availability'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 65, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 44, in create_staff_instance
    "availability": data.availability,
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'StaffCreate' object has no attribute 'availability'
2025-03-22 19:10:06,260 - kademia - ERROR - Unhandled exception | 16821224-d31a-4028-bf05-1c02b380b6dc | 'StaffCreate' object has no attribute 'availability'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 65, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 44, in create_staff_instance
    "availability": data.availability,
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\pydantic\main.py", line 892, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'StaffCreate' object has no attribute 'availability'
2025-03-22 19:10:41,179 - kademia - INFO - Application started
2025-03-22 19:10:41,188 - kademia - INFO - Request started | 49cdb8d0-1b57-4f99-8df4-f092ed9f0f12 | GET /docs
2025-03-22 19:10:41,190 - kademia - INFO - Request completed | 49cdb8d0-1b57-4f99-8df4-f092ed9f0f12 | Status: 200 | Time: 0.001s
2025-03-22 19:10:41,362 - kademia - INFO - Request started | 6d42e547-4dcb-41f8-a160-7a2a8acc3f43 | GET /openapi.json
2025-03-22 19:10:41,530 - kademia - INFO - Request completed | 6d42e547-4dcb-41f8-a160-7a2a8acc3f43 | Status: 200 | Time: 0.165s
2025-03-22 19:11:02,831 - kademia - INFO - Request started | 03a4d005-9bb0-4726-8242-9bee449bd00b | POST /api/v1/admin/staff/
2025-03-22 19:11:03,351 - kademia - ERROR - Unhandled exception | 03a4d005-9bb0-4726-8242-9bee449bd00b | UserValidator.validate_staff_email() missing 1 required positional argument: 'value'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 44, in create_staff_instance
    "email_address": self.validator.validate_staff_email(data.email_address),
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: UserValidator.validate_staff_email() missing 1 required positional argument: 'value'
2025-03-22 19:11:03,384 - kademia - ERROR - Unhandled exception | 03a4d005-9bb0-4726-8242-9bee449bd00b | UserValidator.validate_staff_email() missing 1 required positional argument: 'value'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 44, in create_staff_instance
    "email_address": self.validator.validate_staff_email(data.email_address),
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: UserValidator.validate_staff_email() missing 1 required positional argument: 'value'
2025-03-22 19:12:28,972 - kademia - INFO - Application started
2025-03-22 19:12:28,981 - kademia - INFO - Request started | 05eb9371-6c1a-4e84-bbb8-59171d78e888 | GET /docs
2025-03-22 19:12:28,982 - kademia - INFO - Request completed | 05eb9371-6c1a-4e84-bbb8-59171d78e888 | Status: 200 | Time: 0.001s
2025-03-22 19:12:29,177 - kademia - INFO - Request started | ef0b3089-6d63-4cac-affd-c1526d06943d | GET /openapi.json
2025-03-22 19:12:29,364 - kademia - INFO - Request completed | ef0b3089-6d63-4cac-affd-c1526d06943d | Status: 200 | Time: 0.187s
2025-03-22 19:12:38,070 - kademia - INFO - Request started | f47f2cf1-00fe-4232-89d5-20929243b762 | POST /api/v1/admin/staff/
2025-03-22 19:12:39,019 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-22 19:12:39,020 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:12:39,022 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-22 19:12:39,023 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:12:39,024 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-22 19:12:39,025 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:12:39,026 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:12:39,034 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:12:39,035 - sqlalchemy.engine.Engine - INFO - [generated in 0.00116s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.folu@example.com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69'), 'password_hash': '$2b$12$AjH5ReKvpR6kDXCH/RpJ/ODOCPNsVuFvv68s8DCMukzVHDO4FFnf2', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:12:39,042 - sqlalchemy.engine.Engine - INFO - INSERT INTO educators (id) VALUES (%(id)s::UUID)
2025-03-22 19:12:39,042 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {'id': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:12:39,051 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:12:39,054 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:12:39,063 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, educators.id, staff.id AS id_1, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff JOIN educators ON educators.id = staff.id 
WHERE staff.id = %(pk_1)s::UUID
2025-03-22 19:12:39,065 - sqlalchemy.engine.Engine - INFO - [generated in 0.00181s] {'pk_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:12:39,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:12:39,075 - kademia - INFO - Request completed | f47f2cf1-00fe-4232-89d5-20929243b762 | Status: 201 | Time: 1.003s
2025-03-22 19:13:06,823 - kademia - INFO - Request started | c077b25a-6adf-4e49-9b97-7db1fbec9aee | POST /api/v1/admin/staff/
2025-03-22 19:13:07,278 - kademia - ERROR - Unhandled exception | c077b25a-6adf-4e49-9b97-7db1fbec9aee | 
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 45, in create_staff_instance
    "address": self.validator.validate_address(data.address),
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 31, in validate_address
    raise TextTooShortError(entry=value, domain=self.domain, min_length=12)
app.core.errors.input_validation_errors.TextTooShortError
2025-03-22 19:13:07,294 - kademia - WARNING - TextTooShortError | c077b25a-6adf-4e49-9b97-7db1fbec9aee | Domain: USER PROFILE-- Input attempted with short text: 456y                                     
2025-03-22 19:13:41,485 - kademia - INFO - Request started | 1478f7cd-fe4a-4617-96a1-d442a77f3424 | POST /api/v1/admin/staff/
2025-03-22 19:13:41,991 - kademia - ERROR - Unhandled exception | 1478f7cd-fe4a-4617-96a1-d442a77f3424 | DateError.__init__() missing 1 required positional argument: 'date_input'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 49, in create_staff_instance
    "date_joined": self.validator.validate_date(data.date_joined),
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 72, in validate_date
    raise DateError
TypeError: DateError.__init__() missing 1 required positional argument: 'date_input'
2025-03-22 19:13:42,000 - kademia - ERROR - Unhandled exception | 1478f7cd-fe4a-4617-96a1-d442a77f3424 | DateError.__init__() missing 1 required positional argument: 'date_input'
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 49, in create_staff_instance
    "date_joined": self.validator.validate_date(data.date_joined),
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 72, in validate_date
    raise DateError
TypeError: DateError.__init__() missing 1 required positional argument: 'date_input'
2025-03-22 19:15:33,717 - kademia - INFO - Application started
2025-03-22 19:15:33,725 - kademia - INFO - Request started | 55797454-e2df-4a70-a98e-340a7632ed6f | GET /docs
2025-03-22 19:15:33,727 - kademia - INFO - Request completed | 55797454-e2df-4a70-a98e-340a7632ed6f | Status: 200 | Time: 0.000s
2025-03-22 19:15:33,943 - kademia - INFO - Request started | 76bc58a1-a64e-4591-9edc-3d50dd0fc968 | GET /openapi.json
2025-03-22 19:15:34,198 - kademia - INFO - Request completed | 76bc58a1-a64e-4591-9edc-3d50dd0fc968 | Status: 200 | Time: 0.253s
2025-03-22 19:15:53,501 - kademia - INFO - Request started | e43439c1-4176-4f27-9219-d475a72f973e | POST /api/v1/admin/staff/
2025-03-22 19:15:54,020 - kademia - ERROR - Unhandled exception | e43439c1-4176-4f27-9219-d475a72f973e | 
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 49, in create_staff_instance
    "date_joined": self.validator.validate_date(data.date_joined),
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 72, in validate_date
    raise DateError(date_input=date_input, domain = self.domain)
app.core.errors.input_validation_errors.DateError
2025-03-22 19:15:54,038 - kademia - WARNING - DateError | e43439c1-4176-4f27-9219-d475a72f973e | Domain: USER PROFILE-- Input attempted with future date: 2026-01-15
2025-03-22 19:16:20,852 - kademia - INFO - Request started | 3bd84d48-179d-421d-bd56-71069dd57623 | POST /api/v1/admin/staff/
2025-03-22 19:16:21,384 - kademia - ERROR - Unhandled exception | 3bd84d48-179d-421d-bd56-71069dd57623 | 
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 44, in create_staff_instance
    "email_address": self.validator.validate_staff_email(data.email_address),
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 42, in validate_staff_email
    raise TextTooShortError(entry=value, domain=self.domain, min_length=12)
app.core.errors.input_validation_errors.TextTooShortError
2025-03-22 19:16:21,393 - kademia - WARNING - TextTooShortError | 3bd84d48-179d-421d-bd56-71069dd57623 | Domain: USER PROFILE-- Input attempted with short text: aina
2025-03-22 19:16:33,686 - kademia - INFO - Request started | eccb48de-44c0-4f43-b7ad-13913c3f29d9 | POST /api/v1/admin/staff/
2025-03-22 19:16:33,689 - kademia - ERROR - Unhandled exception | eccb48de-44c0-4f43-b7ad-13913c3f29d9 | 
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 39, in create_staff_instance
    "first_name": self.validator.validate_name(data.first_name),
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 20, in validate_name
    raise InvalidCharacterError(entry=value, domain=self.domain)
app.core.errors.input_validation_errors.InvalidCharacterError
2025-03-22 19:16:33,695 - kademia - WARNING - InvalidCharacterError | eccb48de-44c0-4f43-b7ad-13913c3f29d9 | Domain: USER PROFILE-- Input attempted with invalid character: Ain23a
2025-03-22 19:16:40,993 - kademia - INFO - Request started | 1bd7eed7-f3ef-4117-80ba-3873650d5a47 | POST /api/v1/admin/staff/
2025-03-22 19:16:41,944 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-22 19:16:41,944 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:16:41,946 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-22 19:16:41,947 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:16:41,948 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-22 19:16:41,949 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:16:41,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:16:41,965 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:16:41,966 - sqlalchemy.engine.Engine - INFO - [generated in 0.00189s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.folu@example.com', 'address': '456 Allen Avenue, Lagos', 'phone': '08087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('6eddb192-93c6-4e20-ae43-4b8ff5bf5180'), 'password_hash': '$2b$12$rSwofqB1hbQEzu/a2j67FeznhEUuRoHjWCgtKPhX295dUQ5lcVjhe', 'first_name': 'Aa', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:16:41,981 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:16:41,984 - kademia - ERROR - Unhandled exception | 1bd7eed7-f3ef-4117-80ba-3873650d5a47 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('6eddb192-93c6-4e20-ae43-4b8ff5bf5180'), 'password_hash': '$2b$12$rswofqb1hbqezu/a2j67feznheuurohjwcgtkphx295duq5lcvjhe', 'first_name': 'aa', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 74, in create_staff
    raise DuplicateStaffError(
app.core.errors.user_profile_errors.DuplicateStaffError: Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('6eddb192-93c6-4e20-ae43-4b8ff5bf5180'), 'password_hash': '$2b$12$rswofqb1hbqezu/a2j67feznheuurohjwcgtkphx295duq5lcvjhe', 'first_name': 'aa', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-22 19:16:41,998 - kademia - WARNING - UniqueViolationError | 1bd7eed7-f3ef-4117-80ba-3873650d5a47 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '08087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('6eddb192-93c6-4e20-ae43-4b8ff5bf5180'), 'password_hash': '$2b$12$rswofqb1hbqezu/a2j67feznheuurohjwcgtkphx295duq5lcvjhe', 'first_name': 'aa', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-22 19:17:01,823 - kademia - INFO - Request started | 43689f78-e63e-44a6-aee7-0b2f448fb8d5 | POST /api/v1/admin/staff/
2025-03-22 19:17:01,825 - kademia - ERROR - Unhandled exception | 43689f78-e63e-44a6-aee7-0b2f448fb8d5 | 
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 39, in create_staff_instance
    "first_name": self.validator.validate_name(data.first_name),
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 18, in validate_name
    raise TextTooShortError(entry = value, domain = self.domain, min_length = 2)
app.core.errors.input_validation_errors.TextTooShortError
2025-03-22 19:17:01,831 - kademia - WARNING - TextTooShortError | 43689f78-e63e-44a6-aee7-0b2f448fb8d5 | Domain: USER PROFILE-- Input attempted with short text: a
2025-03-22 19:17:39,048 - kademia - INFO - Request started | afa2f2fe-7ee2-4a1b-a50a-2bad4dc61a18 | POST /api/v1/admin/staff/
2025-03-22 19:17:39,609 - kademia - ERROR - Unhandled exception | afa2f2fe-7ee2-4a1b-a50a-2bad4dc61a18 | 
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 46, in create_staff_instance
    "phone": self.validator.validate_phone(data.phone),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 64, in validate_phone
    raise InvalidPhoneError(entry=value)
app.core.errors.input_validation_errors.InvalidPhoneError
2025-03-22 19:17:39,618 - kademia - WARNING - InvalidPhoneError | afa2f2fe-7ee2-4a1b-a50a-2bad4dc61a18 | Phone number entry attempted with invalid format: 080876543sf21
2025-03-22 19:18:52,402 - kademia - INFO - Application started
2025-03-22 19:18:52,414 - kademia - INFO - Request started | 13b24806-5f53-4ca7-869b-e5a116524b57 | GET /docs
2025-03-22 19:18:52,415 - kademia - INFO - Request completed | 13b24806-5f53-4ca7-869b-e5a116524b57 | Status: 200 | Time: 0.001s
2025-03-22 19:18:52,598 - kademia - INFO - Request started | 3943acc0-fa77-470d-97eb-d2885e5b3707 | GET /openapi.json
2025-03-22 19:18:52,787 - kademia - INFO - Request completed | 3943acc0-fa77-470d-97eb-d2885e5b3707 | Status: 200 | Time: 0.189s
2025-03-22 19:19:21,710 - kademia - INFO - Request started | 79b3742a-ac91-4819-9c8f-dd7fb98cd5fc | POST /api/v1/admin/staff/
2025-03-22 19:19:22,814 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-22 19:19:22,814 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:19:22,818 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-22 19:19:22,819 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:19:22,820 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-22 19:19:22,823 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:19:22,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:19:22,838 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:19:22,839 - sqlalchemy.engine.Engine - INFO - [generated in 0.00188s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.folu@example.com', 'address': '456 Allen Avenue, Lagos', 'phone': '+2348087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000008'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('227f8662-6467-466e-98ce-58c4f0958701'), 'password_hash': '$2b$12$WLcxTQiOn2uy2n.EFBsi4.m.VfoPFGHxY34XS6XNlqdvMImFEsDTK', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:19:22,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:19:22,851 - kademia - ERROR - Unhandled exception | 79b3742a-ac91-4819-9c8f-dd7fb98cd5fc | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000008'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('227f8662-6467-466e-98ce-58c4f0958701'), 'password_hash': '$2b$12$wlcxtqion2uy2n.efbsi4.m.vfopfghxy34xs6xnlqdvmimfesdtk', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 74, in create_staff
    raise DuplicateStaffError(
app.core.errors.user_profile_errors.DuplicateStaffError: Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000008'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('227f8662-6467-466e-98ce-58c4f0958701'), 'password_hash': '$2b$12$wlcxtqion2uy2n.efbsi4.m.vfopfghxy34xs6xnlqdvmimfesdtk', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-22 19:19:22,884 - kademia - WARNING - UniqueViolationError | 79b3742a-ac91-4819-9c8f-dd7fb98cd5fc | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000008'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('227f8662-6467-466e-98ce-58c4f0958701'), 'password_hash': '$2b$12$wlcxtqion2uy2n.efbsi4.m.vfopfghxy34xs6xnlqdvmimfesdtk', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-22 19:19:38,533 - kademia - INFO - Request started | d6bb7908-1763-482c-a58d-cf4d0db2059d | POST /api/v1/admin/staff/
2025-03-22 19:19:38,957 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:19:38,959 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:19:38,960 - sqlalchemy.engine.Engine - INFO - [cached since 16.12s ago] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.fodlu@example.com', 'address': '456 Allen Avenue, Lagos', 'phone': '+2348087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000008'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4'), 'password_hash': '$2b$12$uedQ.V.1tIB.s.Kl1eHQCeJLTjy3oVH9owqP7NJgrh8WpD3JhRjwe', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:19:38,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO educators (id) VALUES (%(id)s::UUID)
2025-03-22 19:19:38,965 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] {'id': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:19:38,975 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:19:38,983 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:19:38,995 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, educators.id, staff.id AS id_1, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff JOIN educators ON educators.id = staff.id 
WHERE staff.id = %(pk_1)s::UUID
2025-03-22 19:19:39,003 - sqlalchemy.engine.Engine - INFO - [generated in 0.00750s] {'pk_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:19:39,018 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:19:39,024 - kademia - INFO - Request completed | d6bb7908-1763-482c-a58d-cf4d0db2059d | Status: 201 | Time: 0.490s
2025-03-22 19:28:58,734 - kademia - INFO - Application started
2025-03-22 19:30:01,979 - kademia - INFO - Application started
2025-03-22 19:30:03,926 - kademia - INFO - Request started | a9b9933f-4aa6-4dbd-993d-6d0a8649381a | GET /docs
2025-03-22 19:30:03,928 - kademia - INFO - Request completed | a9b9933f-4aa6-4dbd-993d-6d0a8649381a | Status: 200 | Time: 0.001s
2025-03-22 19:30:04,110 - kademia - INFO - Request started | 3435123b-db7c-4a38-8e4c-512217b989f6 | GET /openapi.json
2025-03-22 19:30:04,240 - kademia - INFO - Request completed | 3435123b-db7c-4a38-8e4c-512217b989f6 | Status: 200 | Time: 0.129s
2025-03-22 19:32:09,104 - kademia - INFO - Application started
2025-03-22 19:32:12,010 - kademia - INFO - Request started | 09d985f6-24a3-4acf-89e8-9d202696240c | GET /docs
2025-03-22 19:32:12,012 - kademia - INFO - Request completed | 09d985f6-24a3-4acf-89e8-9d202696240c | Status: 200 | Time: 0.001s
2025-03-22 19:32:12,254 - kademia - INFO - Request started | 17b1d99f-2a88-468d-a8c4-c252abc32ea6 | GET /openapi.json
2025-03-22 19:32:12,483 - kademia - INFO - Request completed | 17b1d99f-2a88-468d-a8c4-c252abc32ea6 | Status: 200 | Time: 0.228s
2025-03-22 19:32:23,049 - kademia - INFO - Request started | 86465652-77ff-4ece-83ee-283891831134 | POST /api/v1/admin/staff/
2025-03-22 19:32:23,595 - kademia - ERROR - Unhandled exception | 86465652-77ff-4ece-83ee-283891831134 | 
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 46, in create_staff_instance
    "phone": self.validator.validate_phone(data.phone),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 74, in validate_phone
    raise InvalidPhoneError(entry=value)
app.core.errors.input_validation_errors.InvalidPhoneError
2025-03-22 19:32:23,608 - kademia - WARNING - InvalidPhoneError | 86465652-77ff-4ece-83ee-283891831134 | Phone number entry attempted with invalid format: 08087654321
2025-03-22 19:32:39,733 - kademia - INFO - Request started | 638ecb3e-1c22-4dca-abe3-0ceacd00dc43 | POST /api/v1/admin/staff/
2025-03-22 19:32:40,660 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-22 19:32:40,660 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:32:40,663 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-22 19:32:40,664 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:32:40,667 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-22 19:32:40,668 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:32:40,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:32:40,679 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:32:40,681 - sqlalchemy.engine.Engine - INFO - [generated in 0.00220s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.folu@example.com', 'address': '456 Allen Avenue, Lagos', 'phone': '+2348087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('0d7bb89a-b58a-4472-b012-37ab5f98d904'), 'password_hash': '$2b$12$BKJadiXLAgpI8YZyQnsuNeKoRe9TIbYpEk9PbWbD5syqI8novsc/W', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:32:40,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:32:40,690 - kademia - ERROR - Unhandled exception | 638ecb3e-1c22-4dca-abe3-0ceacd00dc43 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('0d7bb89a-b58a-4472-b012-37ab5f98d904'), 'password_hash': '$2b$12$bkjadixlagpi8yzyqnsunekore9tibypek9pbwbd5syqi8novsc/w', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 74, in create_staff
    raise DuplicateStaffError(
app.core.errors.user_profile_errors.DuplicateStaffError: Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('0d7bb89a-b58a-4472-b012-37ab5f98d904'), 'password_hash': '$2b$12$bkjadixlagpi8yzyqnsunekore9tibypek9pbwbd5syqi8novsc/w', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-22 19:32:40,704 - kademia - WARNING - UniqueViolationError | 638ecb3e-1c22-4dca-abe3-0ceacd00dc43 | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_email_address_key"
detail:  key (email_address)=(aina.folu@example.com) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@example.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000001'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('0d7bb89a-b58a-4472-b012-37ab5f98d904'), 'password_hash': '$2b$12$bkjadixlagpi8yzyqnsunekore9tibypek9pbwbd5syqi8novsc/w', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-22 19:33:02,673 - kademia - INFO - Request started | 9a420624-0299-4bbb-9fb7-190aba504f6b | POST /api/v1/admin/staff/
2025-03-22 19:33:03,237 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:33:03,240 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:33:03,241 - sqlalchemy.engine.Engine - INFO - [cached since 22.56s ago] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.folu@examhhkjple.com', 'address': '456 Allen Avenue, Lagos', 'phone': '+2348087654321', 'department_id': UUID('00000000-0000-0000-0000-000000000009'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('b9f1619b-723d-499b-897c-3e5d083c2405'), 'password_hash': '$2b$12$yj4UwnUPJXzr0XGfBvjg6OzrouPGboel.IawxkwiTSSpY0FBYBNgS', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:33:03,246 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:33:03,248 - kademia - ERROR - Unhandled exception | 9a420624-0299-4bbb-9fb7-190aba504f6b | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_phone_key"
detail:  key (phone)=(+2348087654321) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@examhhkjple.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000009'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('b9f1619b-723d-499b-897c-3e5d083c2405'), 'password_hash': '$2b$12$yj4uwnupjxzr0xgfbvjg6ozroupgboel.iawxkwitsspy0fbybngs', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 71, in create_staff
    raise DuplicateStaffError(
app.core.errors.user_profile_errors.DuplicateStaffError: Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_phone_key"
detail:  key (phone)=(+2348087654321) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@examhhkjple.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000009'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('b9f1619b-723d-499b-897c-3e5d083c2405'), 'password_hash': '$2b$12$yj4uwnupjxzr0xgfbvjg6ozroupgboel.iawxkwitsspy0fbybngs', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-22 19:33:03,267 - kademia - WARNING - UniqueViolationError | 9a420624-0299-4bbb-9fb7-190aba504f6b | Duplicate staff creation attempted: unique constraint violation - detail: (psycopg2.errors.uniqueviolation) duplicate key value violates unique constraint "staff_phone_key"
detail:  key (phone)=(+2348087654321) already exists.

[sql: insert into staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) values (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::uuid, %(role_id)s::uuid, %(date_joined)s, %(date_left)s, %(id)s::uuid, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::uuid, %(last_modified_by)s::uuid, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::uuid) returning staff.created_at, staff.last_modified_at]
[parameters: {'access_level': 'read', 'user_type': 'staff', 'status': 'active', 'availability': 'available', 'staff_type': 'educator', 'image_url': none, 'email_address': 'aina.folu@examhhkjple.com', 'address': '456 allen avenue, lagos', 'phone': '+2348087654321', 'department_id': uuid('00000000-0000-0000-0000-000000000009'), 'role_id': uuid('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': none, 'id': uuid('b9f1619b-723d-499b-897c-3e5d083c2405'), 'password_hash': '$2b$12$yj4uwnupjxzr0xgfbvjg6ozroupgboel.iawxkwitsspy0fbybngs', 'first_name': 'aina', 'last_name': 'folu', 'gender': 'female', 'last_login': none, 'deletion_eligible': false, 'created_by': uuid('00000000-0000-0000-0000-000000000000'), 'last_modified_by': uuid('00000000-0000-0000-0000-000000000000'), 'is_archived': false, 'archived_at': none, 'archive_reason': none, 'archived_by': none}]
(background on this error at: https://sqlalche.me/e/20/gkpj)
2025-03-22 19:33:13,810 - kademia - INFO - Request started | 0a02f1a7-904e-46d8-b9a3-a4094d3f0fe4 | POST /api/v1/admin/staff/
2025-03-22 19:33:14,310 - kademia - ERROR - Unhandled exception | 0a02f1a7-904e-46d8-b9a3-a4094d3f0fe4 | 
Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 111, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 106, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 124, in receive
    return receiver.item
           ^^^^^^^^^^^^^
AttributeError: 'MemoryObjectItemReceiver' object has no attribute 'item'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\middleware\error_handler.py", line 97, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\fastapi\routing.py", line 214, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\starlette\concurrency.py", line 39, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 2461, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 962, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\routers\users\staff\staff.py", line 20, in create_staff
    return staff_crud.create_staff(data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\crud\users\staff.py", line 30, in create_staff
    staff = self.factory.create_staff(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 64, in create_staff
    new_staff = create_staff_instance(staff_data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\factories\users\staff.py", line 46, in create_staff_instance
    "phone": self.validator.validate_phone(data.phone),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\dell\Desktop\Engineering\Projects\Kademia\V2\app\core\validators\users.py", line 74, in validate_phone
    raise InvalidPhoneError(entry=value)
app.core.errors.input_validation_errors.InvalidPhoneError
2025-03-22 19:33:14,320 - kademia - WARNING - InvalidPhoneError | 0a02f1a7-904e-46d8-b9a3-a4094d3f0fe4 | Phone number entry attempted with invalid format: +2348087654y21
2025-03-22 19:33:28,390 - kademia - INFO - Request started | 18f036c3-d92b-4d1d-8524-b6bdc3e1c708 | POST /api/v1/admin/staff/
2025-03-22 19:33:28,911 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:33:28,912 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:33:28,914 - sqlalchemy.engine.Engine - INFO - [cached since 48.24s ago] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.folu@examhhkjple.com', 'address': '456 Allen Avenue, Lagos', 'phone': '+2348087650021', 'department_id': UUID('00000000-0000-0000-0000-000000000009'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c'), 'password_hash': '$2b$12$QL4D/LQtutzsomoeHJy0WOgQllmix6P8FoWjoEsLjBPR4o7gS.PlW', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:33:28,919 - sqlalchemy.engine.Engine - INFO - INSERT INTO educators (id) VALUES (%(id)s::UUID)
2025-03-22 19:33:28,919 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] {'id': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:33:28,931 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:33:28,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:33:28,948 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, educators.id, staff.id AS id_1, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff JOIN educators ON educators.id = staff.id 
WHERE staff.id = %(pk_1)s::UUID
2025-03-22 19:33:28,949 - sqlalchemy.engine.Engine - INFO - [generated in 0.00100s] {'pk_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:33:28,956 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:33:28,958 - kademia - INFO - Request completed | 18f036c3-d92b-4d1d-8524-b6bdc3e1c708 | Status: 201 | Time: 0.567s
2025-03-22 19:34:06,868 - kademia - INFO - Request started | 30026df8-744b-421f-9607-250256538e6b | POST /api/v1/admin/staff/
2025-03-22 19:34:07,364 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:34:07,365 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:34:07,367 - sqlalchemy.engine.Engine - INFO - [cached since 86.69s ago] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.folkklu@examhhkjple.com', 'address': '456 Allen Avenue, Lagos', 'phone': '+2348087656621', 'department_id': UUID('00000000-0000-0000-0000-000000000009'), 'role_id': UUID('00000000-0000-0000-0000-000000000009'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('0e5fe5bc-0112-463a-9186-618943a08073'), 'password_hash': '$2b$12$7bO3cjyXBDB/7g249XtCmemhKgm/SQ8lImM7pAXYckfQhYuTgEVfi', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:34:07,371 - sqlalchemy.engine.Engine - INFO - INSERT INTO educators (id) VALUES (%(id)s::UUID)
2025-03-22 19:34:07,372 - sqlalchemy.engine.Engine - INFO - [cached since 38.45s ago] {'id': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:34:07,373 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:34:07,375 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:34:07,376 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, educators.id, staff.id AS id_1, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff JOIN educators ON educators.id = staff.id 
WHERE staff.id = %(pk_1)s::UUID
2025-03-22 19:34:07,377 - sqlalchemy.engine.Engine - INFO - [cached since 38.43s ago] {'pk_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:34:07,380 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:34:07,381 - kademia - INFO - Request completed | 30026df8-744b-421f-9607-250256538e6b | Status: 201 | Time: 0.512s
2025-03-22 19:35:11,567 - kademia - INFO - Application started
2025-03-22 19:36:14,106 - kademia - INFO - Request started | 01a5d5fc-8f9e-4eb3-9e22-3d3446c609f4 | DELETE /api/v1/admin/staff/d1c00a80-0614-4398-b4b1-ed452a505a69
2025-03-22 19:36:14,483 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-22 19:36:14,483 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:36:14,485 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-22 19:36:14,486 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:36:14,488 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-22 19:36:14,488 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:36:14,490 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:36:14,497 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-22 19:36:14,498 - sqlalchemy.engine.Engine - INFO - [generated in 0.00123s] {'id_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69'), 'param_1': 1}
2025-03-22 19:36:14,514 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE %(param_1)s::UUID = educator_qualifications.educator_id
2025-03-22 19:36:14,515 - sqlalchemy.engine.Engine - INFO - [generated in 0.00110s] {'param_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,526 - sqlalchemy.engine.Engine - INFO - SELECT subject_educators.id AS subject_educators_id, subject_educators.subject_id AS subject_educators_subject_id, subject_educators.educator_id AS subject_educators_educator_id, subject_educators.level_id AS subject_educators_level_id, subject_educators.academic_year AS subject_educators_academic_year, subject_educators.term AS subject_educators_term, subject_educators.is_active AS subject_educators_is_active, subject_educators.date_assigned AS subject_educators_date_assigned, subject_educators.created_by AS subject_educators_created_by, subject_educators.last_modified_by AS subject_educators_last_modified_by, subject_educators.created_at AS subject_educators_created_at, subject_educators.last_modified_at AS subject_educators_last_modified_at, subject_educators.is_archived AS subject_educators_is_archived, subject_educators.archived_at AS subject_educators_archived_at, subject_educators.archive_reason AS subject_educators_archive_reason, subject_educators.archived_by AS subject_educators_archived_by 
FROM subject_educators 
WHERE %(param_1)s::UUID = subject_educators.educator_id
2025-03-22 19:36:14,527 - sqlalchemy.engine.Engine - INFO - [generated in 0.00101s] {'param_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,534 - sqlalchemy.engine.Engine - INFO - SELECT student_departments.id AS student_departments_id, student_departments.name AS student_departments_name, student_departments.code AS student_departments_code, student_departments.description AS student_departments_description, student_departments.mentor_id AS student_departments_mentor_id, student_departments.student_rep_id AS student_departments_student_rep_id, student_departments.assistant_rep_id AS student_departments_assistant_rep_id, student_departments.created_by AS student_departments_created_by, student_departments.last_modified_by AS student_departments_last_modified_by, student_departments.created_at AS student_departments_created_at, student_departments.last_modified_at AS student_departments_last_modified_at, student_departments.is_archived AS student_departments_is_archived, student_departments.archived_at AS student_departments_archived_at, student_departments.archive_reason AS student_departments_archive_reason, student_departments.archived_by AS student_departments_archived_by 
FROM student_departments 
WHERE %(param_1)s::UUID = student_departments.mentor_id
2025-03-22 19:36:14,535 - sqlalchemy.engine.Engine - INFO - [generated in 0.00103s] {'param_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,546 - sqlalchemy.engine.Engine - INFO - SELECT classes.id AS classes_id, classes.level_id AS classes_level_id, classes.code AS classes_code, classes.supervisor_id AS classes_supervisor_id, classes.student_rep_id AS classes_student_rep_id, classes.assistant_rep_id AS classes_assistant_rep_id, classes."order" AS classes_order, classes.created_by AS classes_created_by, classes.last_modified_by AS classes_last_modified_by, classes.created_at AS classes_created_at, classes.last_modified_at AS classes_last_modified_at, classes.is_archived AS classes_is_archived, classes.archived_at AS classes_archived_at, classes.archive_reason AS classes_archive_reason, classes.archived_by AS classes_archived_by 
FROM classes 
WHERE %(param_1)s::UUID = classes.supervisor_id
2025-03-22 19:36:14,548 - sqlalchemy.engine.Engine - INFO - [generated in 0.00103s] {'param_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,557 - sqlalchemy.engine.Engine - INFO - SELECT access_level_changes.id AS access_level_changes_id, access_level_changes.staff_id AS access_level_changes_staff_id, access_level_changes.previous_level AS access_level_changes_previous_level, access_level_changes.new_level AS access_level_changes_new_level, access_level_changes.reason AS access_level_changes_reason, access_level_changes.changed_at AS access_level_changes_changed_at, access_level_changes.changed_by_id AS access_level_changes_changed_by_id 
FROM access_level_changes 
WHERE %(param_1)s::UUID = access_level_changes.staff_id
2025-03-22 19:36:14,558 - sqlalchemy.engine.Engine - INFO - [generated in 0.00091s] {'param_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,564 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.created_by
2025-03-22 19:36:14,567 - sqlalchemy.engine.Engine - INFO - [generated in 0.00200s] {'param_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,571 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.last_modified_by
2025-03-22 19:36:14,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00184s] {'param_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,577 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.archived_by
2025-03-22 19:36:14,588 - sqlalchemy.engine.Engine - INFO - [generated in 0.01151s] {'param_1': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,594 - sqlalchemy.engine.Engine - INFO - DELETE FROM educators WHERE educators.id = %(id)s::UUID
2025-03-22 19:36:14,594 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] {'id': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,606 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff WHERE staff.id = %(id)s::UUID
2025-03-22 19:36:14,607 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] {'id': UUID('d1c00a80-0614-4398-b4b1-ed452a505a69')}
2025-03-22 19:36:14,608 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:36:14,612 - kademia - INFO - Request completed | 01a5d5fc-8f9e-4eb3-9e22-3d3446c609f4 | Status: 204 | Time: 0.506s
2025-03-22 19:36:28,202 - kademia - INFO - Request started | 328e0932-2a93-49de-ad84-ba6df1c7de04 | DELETE /api/v1/admin/staff/3afffd0c-84a2-4923-a748-d26edcd97ab4
2025-03-22 19:36:28,206 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:36:28,207 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-22 19:36:28,209 - sqlalchemy.engine.Engine - INFO - [cached since 13.71s ago] {'id_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4'), 'param_1': 1}
2025-03-22 19:36:28,214 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE %(param_1)s::UUID = educator_qualifications.educator_id
2025-03-22 19:36:28,216 - sqlalchemy.engine.Engine - INFO - [cached since 13.7s ago] {'param_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,219 - sqlalchemy.engine.Engine - INFO - SELECT subject_educators.id AS subject_educators_id, subject_educators.subject_id AS subject_educators_subject_id, subject_educators.educator_id AS subject_educators_educator_id, subject_educators.level_id AS subject_educators_level_id, subject_educators.academic_year AS subject_educators_academic_year, subject_educators.term AS subject_educators_term, subject_educators.is_active AS subject_educators_is_active, subject_educators.date_assigned AS subject_educators_date_assigned, subject_educators.created_by AS subject_educators_created_by, subject_educators.last_modified_by AS subject_educators_last_modified_by, subject_educators.created_at AS subject_educators_created_at, subject_educators.last_modified_at AS subject_educators_last_modified_at, subject_educators.is_archived AS subject_educators_is_archived, subject_educators.archived_at AS subject_educators_archived_at, subject_educators.archive_reason AS subject_educators_archive_reason, subject_educators.archived_by AS subject_educators_archived_by 
FROM subject_educators 
WHERE %(param_1)s::UUID = subject_educators.educator_id
2025-03-22 19:36:28,221 - sqlalchemy.engine.Engine - INFO - [cached since 13.69s ago] {'param_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,224 - sqlalchemy.engine.Engine - INFO - SELECT student_departments.id AS student_departments_id, student_departments.name AS student_departments_name, student_departments.code AS student_departments_code, student_departments.description AS student_departments_description, student_departments.mentor_id AS student_departments_mentor_id, student_departments.student_rep_id AS student_departments_student_rep_id, student_departments.assistant_rep_id AS student_departments_assistant_rep_id, student_departments.created_by AS student_departments_created_by, student_departments.last_modified_by AS student_departments_last_modified_by, student_departments.created_at AS student_departments_created_at, student_departments.last_modified_at AS student_departments_last_modified_at, student_departments.is_archived AS student_departments_is_archived, student_departments.archived_at AS student_departments_archived_at, student_departments.archive_reason AS student_departments_archive_reason, student_departments.archived_by AS student_departments_archived_by 
FROM student_departments 
WHERE %(param_1)s::UUID = student_departments.mentor_id
2025-03-22 19:36:28,225 - sqlalchemy.engine.Engine - INFO - [cached since 13.69s ago] {'param_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,239 - sqlalchemy.engine.Engine - INFO - SELECT classes.id AS classes_id, classes.level_id AS classes_level_id, classes.code AS classes_code, classes.supervisor_id AS classes_supervisor_id, classes.student_rep_id AS classes_student_rep_id, classes.assistant_rep_id AS classes_assistant_rep_id, classes."order" AS classes_order, classes.created_by AS classes_created_by, classes.last_modified_by AS classes_last_modified_by, classes.created_at AS classes_created_at, classes.last_modified_at AS classes_last_modified_at, classes.is_archived AS classes_is_archived, classes.archived_at AS classes_archived_at, classes.archive_reason AS classes_archive_reason, classes.archived_by AS classes_archived_by 
FROM classes 
WHERE %(param_1)s::UUID = classes.supervisor_id
2025-03-22 19:36:28,240 - sqlalchemy.engine.Engine - INFO - [cached since 13.69s ago] {'param_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,244 - sqlalchemy.engine.Engine - INFO - SELECT access_level_changes.id AS access_level_changes_id, access_level_changes.staff_id AS access_level_changes_staff_id, access_level_changes.previous_level AS access_level_changes_previous_level, access_level_changes.new_level AS access_level_changes_new_level, access_level_changes.reason AS access_level_changes_reason, access_level_changes.changed_at AS access_level_changes_changed_at, access_level_changes.changed_by_id AS access_level_changes_changed_by_id 
FROM access_level_changes 
WHERE %(param_1)s::UUID = access_level_changes.staff_id
2025-03-22 19:36:28,245 - sqlalchemy.engine.Engine - INFO - [cached since 13.69s ago] {'param_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,250 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.created_by
2025-03-22 19:36:28,252 - sqlalchemy.engine.Engine - INFO - [cached since 13.69s ago] {'param_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,255 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.last_modified_by
2025-03-22 19:36:28,267 - sqlalchemy.engine.Engine - INFO - [cached since 13.7s ago] {'param_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,270 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.archived_by
2025-03-22 19:36:28,272 - sqlalchemy.engine.Engine - INFO - [cached since 13.69s ago] {'param_1': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,278 - sqlalchemy.engine.Engine - INFO - DELETE FROM educators WHERE educators.id = %(id)s::UUID
2025-03-22 19:36:28,279 - sqlalchemy.engine.Engine - INFO - [cached since 13.69s ago] {'id': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,282 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff WHERE staff.id = %(id)s::UUID
2025-03-22 19:36:28,283 - sqlalchemy.engine.Engine - INFO - [cached since 13.68s ago] {'id': UUID('3afffd0c-84a2-4923-a748-d26edcd97ab4')}
2025-03-22 19:36:28,285 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:36:28,373 - kademia - INFO - Request completed | 328e0932-2a93-49de-ad84-ba6df1c7de04 | Status: 204 | Time: 0.171s
2025-03-22 19:36:46,592 - kademia - INFO - Request started | 49597db5-b2d8-46e4-8fe3-31c8a163db4d | DELETE /api/v1/admin/staff/16b259b1-809c-4dac-9aa0-25a7d3e9300c
2025-03-22 19:36:46,594 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:36:46,596 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-22 19:36:46,598 - sqlalchemy.engine.Engine - INFO - [cached since 32.1s ago] {'id_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c'), 'param_1': 1}
2025-03-22 19:36:46,603 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE %(param_1)s::UUID = educator_qualifications.educator_id
2025-03-22 19:36:46,605 - sqlalchemy.engine.Engine - INFO - [cached since 32.09s ago] {'param_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,608 - sqlalchemy.engine.Engine - INFO - SELECT subject_educators.id AS subject_educators_id, subject_educators.subject_id AS subject_educators_subject_id, subject_educators.educator_id AS subject_educators_educator_id, subject_educators.level_id AS subject_educators_level_id, subject_educators.academic_year AS subject_educators_academic_year, subject_educators.term AS subject_educators_term, subject_educators.is_active AS subject_educators_is_active, subject_educators.date_assigned AS subject_educators_date_assigned, subject_educators.created_by AS subject_educators_created_by, subject_educators.last_modified_by AS subject_educators_last_modified_by, subject_educators.created_at AS subject_educators_created_at, subject_educators.last_modified_at AS subject_educators_last_modified_at, subject_educators.is_archived AS subject_educators_is_archived, subject_educators.archived_at AS subject_educators_archived_at, subject_educators.archive_reason AS subject_educators_archive_reason, subject_educators.archived_by AS subject_educators_archived_by 
FROM subject_educators 
WHERE %(param_1)s::UUID = subject_educators.educator_id
2025-03-22 19:36:46,610 - sqlalchemy.engine.Engine - INFO - [cached since 32.08s ago] {'param_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,613 - sqlalchemy.engine.Engine - INFO - SELECT student_departments.id AS student_departments_id, student_departments.name AS student_departments_name, student_departments.code AS student_departments_code, student_departments.description AS student_departments_description, student_departments.mentor_id AS student_departments_mentor_id, student_departments.student_rep_id AS student_departments_student_rep_id, student_departments.assistant_rep_id AS student_departments_assistant_rep_id, student_departments.created_by AS student_departments_created_by, student_departments.last_modified_by AS student_departments_last_modified_by, student_departments.created_at AS student_departments_created_at, student_departments.last_modified_at AS student_departments_last_modified_at, student_departments.is_archived AS student_departments_is_archived, student_departments.archived_at AS student_departments_archived_at, student_departments.archive_reason AS student_departments_archive_reason, student_departments.archived_by AS student_departments_archived_by 
FROM student_departments 
WHERE %(param_1)s::UUID = student_departments.mentor_id
2025-03-22 19:36:46,615 - sqlalchemy.engine.Engine - INFO - [cached since 32.08s ago] {'param_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,617 - sqlalchemy.engine.Engine - INFO - SELECT classes.id AS classes_id, classes.level_id AS classes_level_id, classes.code AS classes_code, classes.supervisor_id AS classes_supervisor_id, classes.student_rep_id AS classes_student_rep_id, classes.assistant_rep_id AS classes_assistant_rep_id, classes."order" AS classes_order, classes.created_by AS classes_created_by, classes.last_modified_by AS classes_last_modified_by, classes.created_at AS classes_created_at, classes.last_modified_at AS classes_last_modified_at, classes.is_archived AS classes_is_archived, classes.archived_at AS classes_archived_at, classes.archive_reason AS classes_archive_reason, classes.archived_by AS classes_archived_by 
FROM classes 
WHERE %(param_1)s::UUID = classes.supervisor_id
2025-03-22 19:36:46,619 - sqlalchemy.engine.Engine - INFO - [cached since 32.07s ago] {'param_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,622 - sqlalchemy.engine.Engine - INFO - SELECT access_level_changes.id AS access_level_changes_id, access_level_changes.staff_id AS access_level_changes_staff_id, access_level_changes.previous_level AS access_level_changes_previous_level, access_level_changes.new_level AS access_level_changes_new_level, access_level_changes.reason AS access_level_changes_reason, access_level_changes.changed_at AS access_level_changes_changed_at, access_level_changes.changed_by_id AS access_level_changes_changed_by_id 
FROM access_level_changes 
WHERE %(param_1)s::UUID = access_level_changes.staff_id
2025-03-22 19:36:46,623 - sqlalchemy.engine.Engine - INFO - [cached since 32.07s ago] {'param_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,626 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.created_by
2025-03-22 19:36:46,628 - sqlalchemy.engine.Engine - INFO - [cached since 32.06s ago] {'param_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,632 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.last_modified_by
2025-03-22 19:36:46,634 - sqlalchemy.engine.Engine - INFO - [cached since 32.06s ago] {'param_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,638 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.archived_by
2025-03-22 19:36:46,647 - sqlalchemy.engine.Engine - INFO - [cached since 32.07s ago] {'param_1': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,651 - sqlalchemy.engine.Engine - INFO - DELETE FROM educators WHERE educators.id = %(id)s::UUID
2025-03-22 19:36:46,652 - sqlalchemy.engine.Engine - INFO - [cached since 32.06s ago] {'id': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,656 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff WHERE staff.id = %(id)s::UUID
2025-03-22 19:36:46,658 - sqlalchemy.engine.Engine - INFO - [cached since 32.05s ago] {'id': UUID('16b259b1-809c-4dac-9aa0-25a7d3e9300c')}
2025-03-22 19:36:46,660 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:36:46,666 - kademia - INFO - Request completed | 49597db5-b2d8-46e4-8fe3-31c8a163db4d | Status: 204 | Time: 0.074s
2025-03-22 19:37:05,557 - kademia - INFO - Request started | 81c3241e-1110-4857-b7b5-d7ae758ab60f | DELETE /api/v1/admin/staff/0e5fe5bc-0112-463a-9186-618943a08073
2025-03-22 19:37:05,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:37:05,560 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE staff.is_archived = false AND staff.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2025-03-22 19:37:05,561 - sqlalchemy.engine.Engine - INFO - [cached since 51.06s ago] {'id_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073'), 'param_1': 1}
2025-03-22 19:37:05,565 - sqlalchemy.engine.Engine - INFO - SELECT educator_qualifications.id AS educator_qualifications_id, educator_qualifications.educator_id AS educator_qualifications_educator_id, educator_qualifications.name AS educator_qualifications_name, educator_qualifications.description AS educator_qualifications_description, educator_qualifications.created_by AS educator_qualifications_created_by, educator_qualifications.last_modified_by AS educator_qualifications_last_modified_by, educator_qualifications.created_at AS educator_qualifications_created_at, educator_qualifications.last_modified_at AS educator_qualifications_last_modified_at, educator_qualifications.is_archived AS educator_qualifications_is_archived, educator_qualifications.archived_at AS educator_qualifications_archived_at, educator_qualifications.archive_reason AS educator_qualifications_archive_reason, educator_qualifications.archived_by AS educator_qualifications_archived_by 
FROM educator_qualifications 
WHERE %(param_1)s::UUID = educator_qualifications.educator_id
2025-03-22 19:37:05,566 - sqlalchemy.engine.Engine - INFO - [cached since 51.05s ago] {'param_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,568 - sqlalchemy.engine.Engine - INFO - SELECT subject_educators.id AS subject_educators_id, subject_educators.subject_id AS subject_educators_subject_id, subject_educators.educator_id AS subject_educators_educator_id, subject_educators.level_id AS subject_educators_level_id, subject_educators.academic_year AS subject_educators_academic_year, subject_educators.term AS subject_educators_term, subject_educators.is_active AS subject_educators_is_active, subject_educators.date_assigned AS subject_educators_date_assigned, subject_educators.created_by AS subject_educators_created_by, subject_educators.last_modified_by AS subject_educators_last_modified_by, subject_educators.created_at AS subject_educators_created_at, subject_educators.last_modified_at AS subject_educators_last_modified_at, subject_educators.is_archived AS subject_educators_is_archived, subject_educators.archived_at AS subject_educators_archived_at, subject_educators.archive_reason AS subject_educators_archive_reason, subject_educators.archived_by AS subject_educators_archived_by 
FROM subject_educators 
WHERE %(param_1)s::UUID = subject_educators.educator_id
2025-03-22 19:37:05,570 - sqlalchemy.engine.Engine - INFO - [cached since 51.04s ago] {'param_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,572 - sqlalchemy.engine.Engine - INFO - SELECT student_departments.id AS student_departments_id, student_departments.name AS student_departments_name, student_departments.code AS student_departments_code, student_departments.description AS student_departments_description, student_departments.mentor_id AS student_departments_mentor_id, student_departments.student_rep_id AS student_departments_student_rep_id, student_departments.assistant_rep_id AS student_departments_assistant_rep_id, student_departments.created_by AS student_departments_created_by, student_departments.last_modified_by AS student_departments_last_modified_by, student_departments.created_at AS student_departments_created_at, student_departments.last_modified_at AS student_departments_last_modified_at, student_departments.is_archived AS student_departments_is_archived, student_departments.archived_at AS student_departments_archived_at, student_departments.archive_reason AS student_departments_archive_reason, student_departments.archived_by AS student_departments_archived_by 
FROM student_departments 
WHERE %(param_1)s::UUID = student_departments.mentor_id
2025-03-22 19:37:05,573 - sqlalchemy.engine.Engine - INFO - [cached since 51.04s ago] {'param_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,575 - sqlalchemy.engine.Engine - INFO - SELECT classes.id AS classes_id, classes.level_id AS classes_level_id, classes.code AS classes_code, classes.supervisor_id AS classes_supervisor_id, classes.student_rep_id AS classes_student_rep_id, classes.assistant_rep_id AS classes_assistant_rep_id, classes."order" AS classes_order, classes.created_by AS classes_created_by, classes.last_modified_by AS classes_last_modified_by, classes.created_at AS classes_created_at, classes.last_modified_at AS classes_last_modified_at, classes.is_archived AS classes_is_archived, classes.archived_at AS classes_archived_at, classes.archive_reason AS classes_archive_reason, classes.archived_by AS classes_archived_by 
FROM classes 
WHERE %(param_1)s::UUID = classes.supervisor_id
2025-03-22 19:37:05,576 - sqlalchemy.engine.Engine - INFO - [cached since 51.03s ago] {'param_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,578 - sqlalchemy.engine.Engine - INFO - SELECT access_level_changes.id AS access_level_changes_id, access_level_changes.staff_id AS access_level_changes_staff_id, access_level_changes.previous_level AS access_level_changes_previous_level, access_level_changes.new_level AS access_level_changes_new_level, access_level_changes.reason AS access_level_changes_reason, access_level_changes.changed_at AS access_level_changes_changed_at, access_level_changes.changed_by_id AS access_level_changes_changed_by_id 
FROM access_level_changes 
WHERE %(param_1)s::UUID = access_level_changes.staff_id
2025-03-22 19:37:05,580 - sqlalchemy.engine.Engine - INFO - [cached since 51.02s ago] {'param_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,583 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.created_by
2025-03-22 19:37:05,585 - sqlalchemy.engine.Engine - INFO - [cached since 51.02s ago] {'param_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,589 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.last_modified_by
2025-03-22 19:37:05,591 - sqlalchemy.engine.Engine - INFO - [cached since 51.02s ago] {'param_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,594 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level AS staff_access_level, staff.user_type AS staff_user_type, staff.status AS staff_status, staff.availability AS staff_availability, staff.staff_type AS staff_staff_type, staff.image_url AS staff_image_url, staff.email_address AS staff_email_address, staff.address AS staff_address, staff.phone AS staff_phone, staff.department_id AS staff_department_id, staff.role_id AS staff_role_id, staff.date_joined AS staff_date_joined, staff.date_left AS staff_date_left, staff.id AS staff_id, staff.password_hash AS staff_password_hash, staff.first_name AS staff_first_name, staff.last_name AS staff_last_name, staff.gender AS staff_gender, staff.last_login AS staff_last_login, staff.deletion_eligible AS staff_deletion_eligible, staff.created_by AS staff_created_by, staff.last_modified_by AS staff_last_modified_by, staff.created_at AS staff_created_at, staff.last_modified_at AS staff_last_modified_at, staff.is_archived AS staff_is_archived, staff.archived_at AS staff_archived_at, staff.archive_reason AS staff_archive_reason, staff.archived_by AS staff_archived_by 
FROM staff 
WHERE %(param_1)s::UUID = staff.archived_by
2025-03-22 19:37:05,603 - sqlalchemy.engine.Engine - INFO - [cached since 51.03s ago] {'param_1': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,609 - sqlalchemy.engine.Engine - INFO - DELETE FROM educators WHERE educators.id = %(id)s::UUID
2025-03-22 19:37:05,610 - sqlalchemy.engine.Engine - INFO - [cached since 51.02s ago] {'id': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,613 - sqlalchemy.engine.Engine - INFO - DELETE FROM staff WHERE staff.id = %(id)s::UUID
2025-03-22 19:37:05,614 - sqlalchemy.engine.Engine - INFO - [cached since 51.01s ago] {'id': UUID('0e5fe5bc-0112-463a-9186-618943a08073')}
2025-03-22 19:37:05,616 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:37:05,622 - kademia - INFO - Request completed | 81c3241e-1110-4857-b7b5-d7ae758ab60f | Status: 204 | Time: 0.066s
2025-03-22 19:44:18,269 - kademia - INFO - Application started
2025-03-22 19:46:10,790 - kademia - INFO - Application started
2025-03-22 19:47:34,972 - kademia - INFO - Request started | 5f7a2540-ec14-42cb-9eab-e8ad63b21183 | GET /docs
2025-03-22 19:47:34,974 - kademia - INFO - Request completed | 5f7a2540-ec14-42cb-9eab-e8ad63b21183 | Status: 200 | Time: 0.002s
2025-03-22 19:47:35,285 - kademia - INFO - Request started | dcfe365a-84fe-4686-a81c-639fb2a1df24 | GET /openapi.json
2025-03-22 19:47:35,441 - kademia - INFO - Request completed | dcfe365a-84fe-4686-a81c-639fb2a1df24 | Status: 200 | Time: 0.156s
2025-03-22 19:47:46,294 - kademia - INFO - Request started | bb55543e-99fa-4885-90a1-be307baa5bf8 | POST /api/v1/admin/staff/
2025-03-22 19:47:47,453 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-22 19:47:47,454 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:47:47,457 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-22 19:47:47,458 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:47:47,459 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-22 19:47:47,460 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 19:47:47,463 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:47:47,473 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 19:47:47,474 - sqlalchemy.engine.Engine - INFO - [generated in 0.00409s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'aina.folu@example.com', 'address': '456 Allen Avenue, Lagos', 'phone': '+2348056794345', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('083a8cb4-3248-45d6-a8f1-2f1309d10486'), 'password_hash': '$2b$12$WbybMvEj/j4BFDmxST7tZ.da7MEBx6AUfTM5f/xY8Tkg424hCT9lm', 'first_name': 'Aina', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 19:47:47,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO educators (id) VALUES (%(id)s::UUID)
2025-03-22 19:47:47,483 - sqlalchemy.engine.Engine - INFO - [generated in 0.00114s] {'id': UUID('083a8cb4-3248-45d6-a8f1-2f1309d10486')}
2025-03-22 19:47:47,492 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 19:47:47,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 19:47:47,507 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, educators.id, staff.id AS id_1, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff JOIN educators ON educators.id = staff.id 
WHERE staff.id = %(pk_1)s::UUID
2025-03-22 19:47:47,509 - sqlalchemy.engine.Engine - INFO - [generated in 0.00143s] {'pk_1': UUID('083a8cb4-3248-45d6-a8f1-2f1309d10486')}
2025-03-22 19:47:47,517 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 19:47:47,519 - kademia - INFO - Request completed | bb55543e-99fa-4885-90a1-be307baa5bf8 | Status: 201 | Time: 1.224s
2025-03-22 20:27:48,268 - kademia - INFO - Request started | 23254394-9cef-47bb-99f9-c361e1b083d8 | POST /api/v1/admin/staff/
2025-03-22 20:27:48,274 - kademia - INFO - Request completed | 23254394-9cef-47bb-99f9-c361e1b083d8 | Status: 422 | Time: 0.005s
2025-03-22 20:35:11,570 - kademia - INFO - Application started
2025-03-22 20:35:40,640 - kademia - INFO - Application started
2025-03-22 20:35:41,399 - kademia - INFO - Request started | 897550b9-b254-4970-9f32-6358d957687c | GET /docs
2025-03-22 20:35:41,401 - kademia - INFO - Request completed | 897550b9-b254-4970-9f32-6358d957687c | Status: 200 | Time: 0.002s
2025-03-22 20:35:41,690 - kademia - INFO - Request started | 8418dab2-914f-46b9-b7d1-92e47e3b9e05 | GET /openapi.json
2025-03-22 20:35:41,813 - kademia - INFO - Request completed | 8418dab2-914f-46b9-b7d1-92e47e3b9e05 | Status: 200 | Time: 0.122s
2025-03-22 20:36:23,712 - kademia - INFO - Application started
2025-03-22 20:36:25,940 - kademia - INFO - Request started | c3494d80-47aa-46fe-8657-c0cc8bb43e35 | GET /docs
2025-03-22 20:36:25,942 - kademia - INFO - Request completed | c3494d80-47aa-46fe-8657-c0cc8bb43e35 | Status: 200 | Time: 0.002s
2025-03-22 20:36:26,100 - kademia - INFO - Request started | 21f92f14-e15d-4961-9ad9-22cdeb9ba1c5 | GET /openapi.json
2025-03-22 20:36:26,196 - kademia - INFO - Request completed | 21f92f14-e15d-4961-9ad9-22cdeb9ba1c5 | Status: 200 | Time: 0.095s
2025-03-22 20:38:40,092 - kademia - INFO - Application started
2025-03-22 20:38:41,550 - kademia - INFO - Request started | ca37fb3e-bf1b-4834-b9ce-5da01f7bc0f0 | GET /docs
2025-03-22 20:38:41,551 - kademia - INFO - Request completed | ca37fb3e-bf1b-4834-b9ce-5da01f7bc0f0 | Status: 200 | Time: 0.001s
2025-03-22 20:38:41,708 - kademia - INFO - Request started | ae8dcf85-e6ee-4d0e-897a-5b35a2520e3b | GET /openapi.json
2025-03-22 20:38:41,823 - kademia - INFO - Request completed | ae8dcf85-e6ee-4d0e-897a-5b35a2520e3b | Status: 200 | Time: 0.115s
2025-03-22 20:39:15,338 - kademia - INFO - Request started | 3ed6d174-4f6a-4293-b4c6-d639b092cdcf | POST /api/v1/admin/staff/
2025-03-22 20:39:15,347 - kademia - INFO - Request completed | 3ed6d174-4f6a-4293-b4c6-d639b092cdcf | Status: 422 | Time: 0.007s
2025-03-22 20:40:06,037 - kademia - INFO - Application started
2025-03-22 20:40:10,356 - kademia - INFO - Request started | 9a4a1e6a-4cde-45cd-9e0f-1e5f9b43d098 | GET /docs
2025-03-22 20:40:10,357 - kademia - INFO - Request completed | 9a4a1e6a-4cde-45cd-9e0f-1e5f9b43d098 | Status: 200 | Time: 0.001s
2025-03-22 20:40:10,515 - kademia - INFO - Request started | 8c6ed319-36eb-4a39-a4b7-ef91d2441eac | GET /openapi.json
2025-03-22 20:40:10,675 - kademia - INFO - Request completed | 8c6ed319-36eb-4a39-a4b7-ef91d2441eac | Status: 200 | Time: 0.159s
2025-03-22 20:40:28,491 - kademia - INFO - Request started | eb17033d-8ed8-49ac-8f2a-173671bee6e8 | POST /api/v1/admin/staff/
2025-03-22 20:40:29,129 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-03-22 20:40:29,129 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 20:40:29,131 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-03-22 20:40:29,132 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 20:40:29,133 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-03-22 20:40:29,133 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-03-22 20:40:29,134 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 20:40:29,140 - sqlalchemy.engine.Engine - INFO - INSERT INTO staff (access_level, user_type, status, availability, staff_type, image_url, email_address, address, phone, department_id, role_id, date_joined, date_left, id, password_hash, first_name, last_name, gender, last_login, deletion_eligible, created_by, last_modified_by, created_at, last_modified_at, is_archived, archived_at, archive_reason, archived_by) VALUES (%(access_level)s, %(user_type)s, %(status)s, %(availability)s, %(staff_type)s, %(image_url)s, %(email_address)s, %(address)s, %(phone)s, %(department_id)s::UUID, %(role_id)s::UUID, %(date_joined)s, %(date_left)s, %(id)s::UUID, %(password_hash)s, %(first_name)s, %(last_name)s, %(gender)s, %(last_login)s, %(deletion_eligible)s, %(created_by)s::UUID, %(last_modified_by)s::UUID, now(), now(), %(is_archived)s, %(archived_at)s, %(archive_reason)s, %(archived_by)s::UUID) RETURNING staff.created_at, staff.last_modified_at
2025-03-22 20:40:29,141 - sqlalchemy.engine.Engine - INFO - [generated in 0.00126s] {'access_level': 'READ', 'user_type': 'STAFF', 'status': 'ACTIVE', 'availability': 'AVAILABLE', 'staff_type': 'Educator', 'image_url': None, 'email_address': 'ainea.folu@example.com', 'address': '456 Allen Avenue, Lagos', 'phone': '+2348056394345', 'department_id': UUID('00000000-0000-0000-0000-000000000001'), 'role_id': UUID('00000000-0000-0000-0000-000000000002'), 'date_joined': datetime.date(2024, 1, 15), 'date_left': None, 'id': UUID('88022286-ff3c-46df-80b1-c204228793d2'), 'password_hash': '$2b$12$qIQsoJT9S46JIm.QdbHmMOkgSSXQZDtKQqnpMeEncVaK7lGJ3l/9O', 'first_name': 'Aiena', 'last_name': 'Folu', 'gender': 'FEMALE', 'last_login': None, 'deletion_eligible': False, 'created_by': UUID('00000000-0000-0000-0000-000000000000'), 'last_modified_by': UUID('00000000-0000-0000-0000-000000000000'), 'is_archived': False, 'archived_at': None, 'archive_reason': None, 'archived_by': None}
2025-03-22 20:40:29,148 - sqlalchemy.engine.Engine - INFO - INSERT INTO educators (id) VALUES (%(id)s::UUID)
2025-03-22 20:40:29,148 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] {'id': UUID('88022286-ff3c-46df-80b1-c204228793d2')}
2025-03-22 20:40:29,156 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-03-22 20:40:29,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-03-22 20:40:29,168 - sqlalchemy.engine.Engine - INFO - SELECT staff.access_level, staff.user_type, staff.status, staff.availability, staff.staff_type, staff.image_url, staff.email_address, staff.address, staff.phone, staff.department_id, staff.role_id, staff.date_joined, staff.date_left, educators.id, staff.id AS id_1, staff.password_hash, staff.first_name, staff.last_name, staff.gender, staff.last_login, staff.deletion_eligible, staff.created_by, staff.last_modified_by, staff.created_at, staff.last_modified_at, staff.is_archived, staff.archived_at, staff.archive_reason, staff.archived_by 
FROM staff JOIN educators ON educators.id = staff.id 
WHERE staff.id = %(pk_1)s::UUID
2025-03-22 20:40:29,169 - sqlalchemy.engine.Engine - INFO - [generated in 0.00129s] {'pk_1': UUID('88022286-ff3c-46df-80b1-c204228793d2')}
2025-03-22 20:40:29,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-03-22 20:40:29,177 - kademia - INFO - Request completed | eb17033d-8ed8-49ac-8f2a-173671bee6e8 | Status: 201 | Time: 0.685s
